(()=>{var e={};e.id=2626,e.ids=[2626],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},68144:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d}),r(22454),r(54403),r(90996);var s=r(30170),n=r(45002),a=r(83876),l=r.n(a),o=r(66299),i={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>o[e]);r.d(t,i);let d=["",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,22454)),"C:\\Users\\rahul\\Downloads\\problem -3, team -9\\SmartPoliceAnalytics-main\\SmartPoliceAnalytics-main\\app\\login\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,54403)),"C:\\Users\\rahul\\Downloads\\problem -3, team -9\\SmartPoliceAnalytics-main\\SmartPoliceAnalytics-main\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,90996,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\rahul\\Downloads\\problem -3, team -9\\SmartPoliceAnalytics-main\\SmartPoliceAnalytics-main\\app\\login\\page.tsx"],u="/login/page",p={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/login/page",pathname:"/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},46519:(e,t,r)=>{Promise.resolve().then(r.bind(r,12838))},87373:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,63642,23)),Promise.resolve().then(r.t.bind(r,87586,23)),Promise.resolve().then(r.t.bind(r,47838,23)),Promise.resolve().then(r.t.bind(r,58057,23)),Promise.resolve().then(r.t.bind(r,77741,23)),Promise.resolve().then(r.t.bind(r,13118,23))},87527:()=>{},12838:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var s=r(97247),n=r(28964),a=r(83128),l=r(34178),o=r(70155),i=r(70170),d=r(79906),c=r(16927);function u(){let e=(0,l.useRouter)(),t=(0,l.useSearchParams)().get("redirect")??"/dashboard",[r,u]=(0,n.useState)(""),[p,m]=(0,n.useState)(""),[x,g]=(0,n.useState)(null),[f,h]=(0,n.useState)(!1),[b,y]=(0,n.useState)(!1),[v,j]=(0,n.useState)(null),P=async s=>{s.preventDefault(),g(null),h(!0);try{let s=await a.Z.post("/api/auth/login",{username:r,password:p},{withCredentials:!0});s.data.token&&(localStorage.setItem("token",s.data.token),localStorage.setItem("role",s.data.role),localStorage.setItem("username",s.data.username)),e.push(t),e.refresh()}catch(t){let e=t?.response?.data?.message??t?.message??"Login failed.";t?.response?.status===401?e="Invalid username or password. If this is your first time, click 'Seed DB' to create the demo account.":t?.response?.status===0||t?.code==="ERR_NETWORK"?e="Cannot connect to server. Make sure the development server is running.":t?.response?.status&&t.response.status>=500&&(e="Server error. Check your MongoDB connection and try seeding the database."),g(e),console.error("Login error:",t)}finally{h(!1)}},S=async()=>{j(null),y(!0);try{let e=await a.Z.post("/api/auth/seed"),t=e.data?.message||"Database seeded successfully!";j(`âœ… ${t} You can now login with superadmin/admin123`),u("superadmin"),m("admin123"),g(null)}catch(r){let e=r?.response?.data,t="Failed to seed database.";e?.hint?t=`${e.error||t}

ðŸ’¡ ${e.hint}`:e?.message?t=e.message:r?.code==="ERR_NETWORK"&&(t="Cannot connect to server. Make sure the development server is running (npm run dev)."),j(`âŒ ${t}`)}finally{y(!1)}};return s.jsx("main",{className:"flex min-h-screen flex-col items-center justify-center bg-[radial-gradient(circle_at_top,_#1C274A,_transparent_60%)] px-6",children:(0,s.jsxs)("div",{className:"w-full max-w-md space-y-6",children:[(0,s.jsxs)("div",{className:"rounded-2xl border border-gold/30 bg-[#111b33]/80 p-6 backdrop-blur",children:[(0,s.jsxs)("div",{className:"mb-4 flex items-center gap-3",children:[s.jsx("div",{className:"rounded-full bg-gold/20 p-3 text-gold",children:s.jsx(c.Z,{className:"h-6 w-6"})}),(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gold",children:"Smart Police Analytics"}),s.jsx("p",{className:"text-xs text-slate-400",children:"Demo credentials available below"})]})]}),(0,s.jsxs)("div",{className:"rounded-xl border border-gold/20 bg-gold/10 p-4 text-sm text-slate-200 space-y-3",children:[(0,s.jsxs)("div",{children:[s.jsx("p",{className:"font-semibold text-gold mb-2",children:"Demo Account"}),(0,s.jsxs)("p",{children:["Username: ",s.jsx("span",{className:"font-mono text-gold",children:"superadmin"})]}),(0,s.jsxs)("p",{children:["Password: ",s.jsx("span",{className:"font-mono text-gold",children:"admin123"})]})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[s.jsx(o.Button,{variant:"secondary",className:"flex-1",type:"button",onClick:()=>{u("superadmin"),m("admin123")},children:"Fill Credentials"}),s.jsx(o.Button,{variant:"secondary",className:"flex-1",type:"button",onClick:S,disabled:b,children:b?"Seeding...":"Seed DB"})]}),v&&s.jsx("div",{className:`text-xs p-3 rounded whitespace-pre-line ${v.startsWith("âœ…")?"bg-green-500/20 text-green-300 border border-green-500/30":"bg-red-500/20 text-red-300 border border-red-500/30"}`,children:v})]})]}),(0,s.jsxs)("form",{onSubmit:P,className:"space-y-4 rounded-2xl border border-slate-800 bg-[#111b33]/90 p-6 backdrop-blur",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"mb-2 block text-sm text-slate-400",children:"Username"}),s.jsx(i.I,{value:r,onChange:e=>u(e.target.value),placeholder:"Enter username",required:!0})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"mb-2 block text-sm text-slate-400",children:"Password"}),s.jsx(i.I,{value:p,onChange:e=>m(e.target.value),placeholder:"Enter password",type:"password",required:!0})]}),x&&s.jsx("p",{className:"rounded-lg border border-red-500/40 bg-red-500/10 px-3 py-2 text-sm text-red-300",children:x}),s.jsx(o.Button,{type:"submit",className:"w-full",disabled:f,children:f?"Signing in...":"Sign in"}),(0,s.jsxs)("p",{className:"text-center text-xs text-slate-500",children:["Need help?"," ",s.jsx(d.default,{href:"/",className:"text-gold hover:underline",children:"Contact Admin"})]})]})]})})}a.Z.defaults.withCredentials=!0},70155:(e,t,r)=>{"use strict";r.d(t,{Button:()=>x});var s=r(97247),n=r(28964),a=r.t(n,2);function l(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}var o=Symbol.for("react.lazy"),i=a[" use ".trim().toString()];function d(e){var t;return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===o&&"_payload"in e&&"object"==typeof(t=e._payload)&&null!==t&&"then"in t}var c=function(e){let t=function(e){let t=n.forwardRef((e,t)=>{let{children:r,...s}=e;if(d(r)&&"function"==typeof i&&(r=i(r._payload)),n.isValidElement(r)){var a;let e,o;let i=(a=r,(e=Object.getOwnPropertyDescriptor(a.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?a.ref:(e=Object.getOwnPropertyDescriptor(a,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?a.props.ref:a.props.ref||a.ref),d=function(e,t){let r={...t};for(let s in t){let n=e[s],a=t[s];/^on[A-Z]/.test(s)?n&&a?r[s]=(...e)=>{let t=a(...e);return n(...e),t}:n&&(r[s]=n):"style"===s?r[s]={...n,...a}:"className"===s&&(r[s]=[n,a].filter(Boolean).join(" "))}return{...e,...r}}(s,r.props);return r.type!==n.Fragment&&(d.ref=t?function(...e){return t=>{let r=!1,s=e.map(e=>{let s=l(e,t);return r||"function"!=typeof s||(r=!0),s});if(r)return()=>{for(let t=0;t<s.length;t++){let r=s[t];"function"==typeof r?r():l(e[t],null)}}}}(t,i):i),n.cloneElement(r,d)}return n.Children.count(r)>1?n.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),r=n.forwardRef((e,r)=>{let{children:a,...l}=e;d(a)&&"function"==typeof i&&(a=i(a._payload));let o=n.Children.toArray(a),c=o.find(p);if(c){let e=c.props.children,a=o.map(t=>t!==c?t:n.Children.count(e)>1?n.Children.only(null):n.isValidElement(e)?e.props.children:null);return(0,s.jsx)(t,{...l,ref:r,children:n.isValidElement(e)?n.cloneElement(e,void 0,a):null})}return(0,s.jsx)(t,{...l,ref:r,children:a})});return r.displayName=`${e}.Slot`,r}("Slot"),u=Symbol("radix.slottable");function p(e){return n.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===u}var m=r(61929);let x=(0,n.forwardRef)(function({className:e,variant:t="primary",asChild:r=!1,...n},a){let l="sm"===n.size?"px-3 py-1 text-sm":"lg"===n.size?"px-6 py-3 text-base":"px-4 py-2 text-sm";return s.jsx(r?c:"button",{ref:a,className:(0,m.Z)("inline-flex items-center justify-center gap-2 rounded-lg px-4 py-2 text-sm font-semibold transition focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-[#0b1220]",l,{default:"",primary:"bg-gold text-black hover:bg-gold/90 focus:ring-gold/50",secondary:"border border-gold/50 text-gold hover:bg-gold/10 focus:ring-gold/30",ghost:"text-slate-300 hover:text-gold hover:bg-indigoPolice",outline:"border border-gold/40 text-gold hover:bg-gold/10 focus:ring-gold/30"}[t],e),...n})})},70170:(e,t,r)=>{"use strict";r.d(t,{I:()=>l});var s=r(97247),n=r(28964),a=r(61929);let l=(0,n.forwardRef)(function({className:e,...t},r){return s.jsx("input",{ref:r,className:(0,a.Z)("w-full rounded-lg border border-slate-700 bg-[#101931] px-4 py-3 text-sm text-slate-100 placeholder:text-slate-500 focus:border-gold focus:outline-none focus:ring-2 focus:ring-gold/40 transition",e),...t})})},16927:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(34523).Z)("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},54403:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i,dynamic:()=>l,metadata:()=>o});var s=r(72051),n=r(45662),a=r.n(n);r(67272);let l="force-dynamic",o={title:"Smart Police Analytics",description:"AI-powered analytics dashboard for police good work recognition."};function i({children:e}){return s.jsx("html",{lang:"en",className:"bg-[#0b1220]",children:s.jsx("body",{className:`${a().variable} antialiased bg-[#0b1220] text-slate-100`,children:e})})}},22454:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(45347).createProxy)(String.raw`C:\Users\rahul\Downloads\problem -3, team -9\SmartPoliceAnalytics-main\SmartPoliceAnalytics-main\app\login\page.tsx#default`)},67272:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[7787,3186,4080,4471],()=>r(68144));module.exports=s})();