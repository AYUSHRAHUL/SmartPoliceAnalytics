(()=>{var e={};e.id=9772,e.ids=[9772],e.modules={11185:e=>{"use strict";e.exports=require("mongoose")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},43239:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>p,tree:()=>d}),s(61948),s(69738),s(90996),s(54403);var r=s(30170),a=s(45002),i=s(83876),n=s.n(i),l=s(66299),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let d=["",{children:["(dashboard)",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,61948)),"C:\\Users\\rahul\\Downloads\\problem -3, team -9\\SmartPoliceAnalytics-main\\SmartPoliceAnalytics-main\\app\\(dashboard)\\admin\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,69738)),"C:\\Users\\rahul\\Downloads\\problem -3, team -9\\SmartPoliceAnalytics-main\\SmartPoliceAnalytics-main\\app\\(dashboard)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,90996,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,54403)),"C:\\Users\\rahul\\Downloads\\problem -3, team -9\\SmartPoliceAnalytics-main\\SmartPoliceAnalytics-main\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,90996,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\rahul\\Downloads\\problem -3, team -9\\SmartPoliceAnalytics-main\\SmartPoliceAnalytics-main\\app\\(dashboard)\\admin\\page.tsx"],m="/(dashboard)/admin/page",u={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(dashboard)/admin/page",pathname:"/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},81362:(e,t,s)=>{Promise.resolve().then(s.bind(s,22049)),Promise.resolve().then(s.bind(s,50524)),Promise.resolve().then(s.bind(s,71106)),Promise.resolve().then(s.bind(s,70155)),Promise.resolve().then(s.bind(s,27757)),Promise.resolve().then(s.t.bind(s,34080,23))},22049:(e,t,s)=>{"use strict";s.d(t,{AdminList:()=>o});var r=s(97247),a=s(28964),i=s(83128),n=s(27757);let l=["Officer","Admin","SuperAdmin"];function o({admins:e}){let[t,s]=(0,a.useState)(e),[o,d]=(0,a.useState)(null),c=async(e,t)=>{d(null);try{await i.Z.put(`/api/admins/${e}`,{role:t}),s(s=>s.map(s=>s.id===e?{...s,role:t}:s)),d("Role updated successfully")}catch(e){d(e?.response?.data?.message??"Failed to update role")}};return(0,r.jsxs)(n.Card,{className:"p-6",children:[(0,r.jsxs)("div",{className:"mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-100",children:"Admin Users"}),r.jsx("p",{className:"text-xs text-slate-500",children:"Promote officers to admin roles or change access levels."})]}),r.jsx("div",{className:"space-y-3",children:t.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between gap-4 rounded-xl border border-slate-800 bg-[#0f172a] px-4 py-3",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-200",children:e.username}),r.jsx("p",{className:"text-xs text-slate-500",children:e.id})]}),r.jsx("select",{className:"rounded-lg border border-slate-700 bg-[#101931] px-3 py-2 text-xs text-slate-200 focus:border-gold focus:outline-none",value:e.role,onChange:t=>c(e.id,t.target.value),children:l.map(e=>r.jsx("option",{value:e,children:e},e))})]},e.id))}),o&&r.jsx("p",{className:"mt-4 text-center text-xs text-slate-500",children:o})]})}},50524:(e,t,s)=>{"use strict";s.d(t,{KpiWeightsForm:()=>o});var r=s(97247),a=s(28964),i=s(83128),n=s(70155),l=s(70170);function o({initial:e}){let[t,s]=(0,a.useState)(e),[o,d]=(0,a.useState)(!1),[c,m]=(0,a.useState)(null),u=(e,t)=>{s(s=>({...s,[e]:t}))},p=async e=>{e.preventDefault(),d(!0),m(null);try{await i.Z.put("/api/kpiweights",t),m("Weights updated successfully")}catch(e){m(e?.response?.data?.message??"Failed to update weights")}finally{d(!1)}};return(0,r.jsxs)("form",{onSubmit:p,className:"space-y-3",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-xs text-slate-400",children:[(0,r.jsxs)("label",{className:"space-y-1",children:[r.jsx("span",{children:"Case Closed Weight"}),r.jsx(l.I,{type:"number",step:"0.05",min:"0",max:"1",value:t.caseClosedWeight,onChange:e=>u("caseClosedWeight",Number(e.target.value))})]}),(0,r.jsxs)("label",{className:"space-y-1",children:[r.jsx("span",{children:"Cyber Resolved Weight"}),r.jsx(l.I,{type:"number",step:"0.05",min:"0",max:"1",value:t.cyberResolvedWeight,onChange:e=>u("cyberResolvedWeight",Number(e.target.value))})]}),(0,r.jsxs)("label",{className:"space-y-1",children:[r.jsx("span",{children:"Feedback Weight"}),r.jsx(l.I,{type:"number",step:"0.05",min:"0",max:"1",value:t.feedbackWeight,onChange:e=>u("feedbackWeight",Number(e.target.value))})]}),(0,r.jsxs)("label",{className:"space-y-1",children:[r.jsx("span",{children:"Awareness Weight"}),r.jsx(l.I,{type:"number",step:"0.05",min:"0",max:"1",value:t.awarenessWeight,onChange:e=>u("awarenessWeight",Number(e.target.value))})]})]}),r.jsx(n.Button,{type:"submit",className:"w-full",disabled:o,children:o?"Saving...":"Update KPI Weights"}),c&&r.jsx("p",{className:"text-center text-xs text-slate-400",children:c})]})}},71106:(e,t,s)=>{"use strict";s.d(t,{OfficerList:()=>i});var r=s(97247),a=s(27757);function i({officers:e}){return(0,r.jsxs)(a.Card,{className:"p-6",children:[(0,r.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-100",children:"Recently Updated Officers"}),(0,r.jsxs)("span",{className:"text-xs text-slate-500",children:[e.length," records"]})]}),r.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:e.map(e=>(0,r.jsxs)("div",{className:"rounded-xl border border-slate-800 bg-[#0f172a] p-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-slate-200",children:e.name}),(0,r.jsxs)("p",{className:"text-xs text-slate-500",children:[e.badgeId," â€¢ ",e.designation]})]}),r.jsx("span",{className:"text-sm font-semibold text-gold",children:e.totalScore.toFixed(1)})]}),r.jsx("p",{className:"mt-2 text-xs text-slate-500",children:e.department})]},e.id))})]})}},70155:(e,t,s)=>{"use strict";s.d(t,{Button:()=>x});var r=s(97247),a=s(28964),i=s.t(a,2);function n(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}var l=Symbol.for("react.lazy"),o=i[" use ".trim().toString()];function d(e){var t;return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===l&&"_payload"in e&&"object"==typeof(t=e._payload)&&null!==t&&"then"in t}var c=function(e){let t=function(e){let t=a.forwardRef((e,t)=>{let{children:s,...r}=e;if(d(s)&&"function"==typeof o&&(s=o(s._payload)),a.isValidElement(s)){var i;let e,l;let o=(i=s,(e=Object.getOwnPropertyDescriptor(i.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?i.ref:(e=Object.getOwnPropertyDescriptor(i,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?i.props.ref:i.props.ref||i.ref),d=function(e,t){let s={...t};for(let r in t){let a=e[r],i=t[r];/^on[A-Z]/.test(r)?a&&i?s[r]=(...e)=>{let t=i(...e);return a(...e),t}:a&&(s[r]=a):"style"===r?s[r]={...a,...i}:"className"===r&&(s[r]=[a,i].filter(Boolean).join(" "))}return{...e,...s}}(r,s.props);return s.type!==a.Fragment&&(d.ref=t?function(...e){return t=>{let s=!1,r=e.map(e=>{let r=n(e,t);return s||"function"!=typeof r||(s=!0),r});if(s)return()=>{for(let t=0;t<r.length;t++){let s=r[t];"function"==typeof s?s():n(e[t],null)}}}}(t,o):o),a.cloneElement(s,d)}return a.Children.count(s)>1?a.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),s=a.forwardRef((e,s)=>{let{children:i,...n}=e;d(i)&&"function"==typeof o&&(i=o(i._payload));let l=a.Children.toArray(i),c=l.find(u);if(c){let e=c.props.children,i=l.map(t=>t!==c?t:a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null);return(0,r.jsx)(t,{...n,ref:s,children:a.isValidElement(e)?a.cloneElement(e,void 0,i):null})}return(0,r.jsx)(t,{...n,ref:s,children:i})});return s.displayName=`${e}.Slot`,s}("Slot"),m=Symbol("radix.slottable");function u(e){return a.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===m}var p=s(61929);let x=(0,a.forwardRef)(function({className:e,variant:t="primary",asChild:s=!1,...a},i){let n="sm"===a.size?"px-3 py-1 text-sm":"lg"===a.size?"px-6 py-3 text-base":"px-4 py-2 text-sm";return r.jsx(s?c:"button",{ref:i,className:(0,p.Z)("inline-flex items-center justify-center gap-2 rounded-lg px-4 py-2 text-sm font-semibold transition focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-[#0b1220]",n,{default:"",primary:"bg-gold text-black hover:bg-gold/90 focus:ring-gold/50",secondary:"border border-gold/50 text-gold hover:bg-gold/10 focus:ring-gold/30",ghost:"text-slate-300 hover:text-gold hover:bg-indigoPolice",outline:"border border-gold/40 text-gold hover:bg-gold/10 focus:ring-gold/30"}[t],e),...a})})},70170:(e,t,s)=>{"use strict";s.d(t,{I:()=>n});var r=s(97247),a=s(28964),i=s(61929);let n=(0,a.forwardRef)(function({className:e,...t},s){return r.jsx("input",{ref:s,className:(0,i.Z)("w-full rounded-lg border border-slate-700 bg-[#101931] px-4 py-3 text-sm text-slate-100 placeholder:text-slate-500 focus:border-gold focus:outline-none focus:ring-2 focus:ring-gold/40 transition",e),...t})})},61948:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var r=s(72051),a=s(1035),i=s(21899);async function n(){await (0,a.Q)();let[e,t,r]=await Promise.all([i.pB.find().sort({createdAt:-1}).limit(20).lean(),i.bx.findOne().lean(),i.GX.find().select("-password").lean()]);if(!e.length){let{getDemoOfficers:e}=await s.e(6444).then(s.bind(s,56444));return{officers:e(10).map((e,t)=>({id:`${t}`,name:e.name,badgeId:e.badgeId,department:e.department,designation:e.designation,totalScore:e.totalScore})),kpiWeights:{caseClosedWeight:.4,cyberResolvedWeight:.3,feedbackWeight:.2,awarenessWeight:.1},admins:[{id:"1",username:"superadmin",role:"SuperAdmin"},{id:"2",username:"hq_admin",role:"Admin"}]}}return{officers:e.map(e=>({id:e._id.toString(),name:e.name,badgeId:e.badgeId,department:e.department,designation:e.designation,totalScore:e.totalScore})),kpiWeights:t??{caseClosedWeight:.4,cyberResolvedWeight:.3,feedbackWeight:.2,awarenessWeight:.1},admins:r.map(e=>({id:e._id.toString(),username:e.username,role:e.role}))}}var l=s(6669),o=s(45347);let d=(0,o.createProxy)(String.raw`C:\Users\rahul\Downloads\problem -3, team -9\SmartPoliceAnalytics-main\SmartPoliceAnalytics-main\components\admin\KpiWeightsForm.tsx#KpiWeightsForm`),c=(0,o.createProxy)(String.raw`C:\Users\rahul\Downloads\problem -3, team -9\SmartPoliceAnalytics-main\SmartPoliceAnalytics-main\components\admin\OfficerList.tsx#OfficerList`),m=(0,o.createProxy)(String.raw`C:\Users\rahul\Downloads\problem -3, team -9\SmartPoliceAnalytics-main\SmartPoliceAnalytics-main\components\admin\AdminList.tsx#AdminList`);var u=s(98300),p=s(92349);async function x(){let{officers:e,kpiWeights:t,admins:s}=await n();return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-slate-100",children:"Admin Control Center"}),r.jsx("p",{className:"text-sm text-slate-400",children:"Manage officers, adjust KPI weightings, and control admin access."})]}),(0,r.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,r.jsxs)(l.Z,{className:"p-6 space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-100",children:"KPI Weight Configuration"}),r.jsx("p",{className:"text-xs text-slate-500",children:"Ensure weights sum to 1. Analytics service uses these weights when scoring officers."})]}),r.jsx(d,{initial:t})]}),(0,r.jsxs)(l.Z,{className:"p-6 space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"text-lg font-semibold text-slate-100",children:"Add Officer"}),r.jsx("p",{className:"text-xs text-slate-500",children:"Use the officer management workspace to insert or edit records."})]}),r.jsx(u.z,{asChild:!0,variant:"secondary",children:r.jsx(p.default,{href:"/admin/officers",children:"Open Officer Manager"})})]}),r.jsx("div",{className:"rounded-xl border border-dashed border-slate-700 bg-[#0f172a] p-4 text-xs text-slate-500",children:"Coming soon: inline officer creation directly from this dashboard."})]})]}),r.jsx(c,{officers:e}),r.jsx(m,{admins:s})]})}},98300:(e,t,s)=>{"use strict";s.d(t,{z:()=>r});let r=(0,s(45347).createProxy)(String.raw`C:\Users\rahul\Downloads\problem -3, team -9\SmartPoliceAnalytics-main\SmartPoliceAnalytics-main\components\ui\button.tsx#Button`)},92349:(e,t,s)=>{"use strict";s.d(t,{default:()=>a.a});var r=s(65949),a=s.n(r)},65949:(e,t,s)=>{"use strict";let{createProxy:r}=s(45347);e.exports=r("C:\\Users\\rahul\\Downloads\\problem -3, team -9\\SmartPoliceAnalytics-main\\SmartPoliceAnalytics-main\\node_modules\\next\\dist\\client\\link.js")}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[7787,5541,5405,3186,4080,4471,6665,540,9859],()=>s(43239));module.exports=r})();