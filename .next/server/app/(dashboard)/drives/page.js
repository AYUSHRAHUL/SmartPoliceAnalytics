(()=>{var e={};e.id=174,e.ids=[174],e.modules={11185:e=>{"use strict";e.exports=require("mongoose")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},19877:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>p,originalPathname:()=>m,pages:()=>d,routeModule:()=>u,tree:()=>c}),s(93921),s(69738),s(90996),s(54403);var a=s(30170),r=s(45002),i=s(83876),l=s.n(i),n=s(66299),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);s.d(t,o);let c=["",{children:["(dashboard)",{children:["drives",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,93921)),"C:\\Users\\rahul\\Downloads\\problem -3, team -9\\SmartPoliceAnalytics-main\\SmartPoliceAnalytics-main\\app\\(dashboard)\\drives\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,69738)),"C:\\Users\\rahul\\Downloads\\problem -3, team -9\\SmartPoliceAnalytics-main\\SmartPoliceAnalytics-main\\app\\(dashboard)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,90996,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,54403)),"C:\\Users\\rahul\\Downloads\\problem -3, team -9\\SmartPoliceAnalytics-main\\SmartPoliceAnalytics-main\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,90996,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\rahul\\Downloads\\problem -3, team -9\\SmartPoliceAnalytics-main\\SmartPoliceAnalytics-main\\app\\(dashboard)\\drives\\page.tsx"],m="/(dashboard)/drives/page",p={require:s,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/(dashboard)/drives/page",pathname:"/drives",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},79446:(e,t,s)=>{Promise.resolve().then(s.bind(s,90266)),Promise.resolve().then(s.bind(s,78226))},90266:(e,t,s)=>{"use strict";s.d(t,{DrivePerformanceCard:()=>c});var a=s(97247),r=s(27757),i=s(66903),l=s(57989),n=s(74022),o=s(81621);function c({drive:e}){return(0,a.jsxs)(r.Card,{className:"p-6 bg-slate-800 hover:bg-slate-750 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-slate-100",children:e.driveName}),e.district&&a.jsx("p",{className:"text-sm text-slate-400 mt-1",children:e.district})]}),(0,a.jsxs)("div",{className:`px-3 py-1 rounded-full text-xs font-semibold ${e.successRate>=80?"bg-green-900/30 text-green-400":e.successRate>=60?"bg-yellow-900/30 text-yellow-400":"bg-red-900/30 text-red-400"}`,children:[e.successRate.toFixed(0),"% Success"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-blue-900/30 rounded-lg",children:a.jsx(i.Z,{className:"w-5 h-5 text-blue-400"})}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-xs text-slate-400",children:"Cases Handled"}),a.jsx("p",{className:"text-lg font-bold text-slate-100",children:e.totalCasesHandled})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-green-900/30 rounded-lg",children:a.jsx(l.Z,{className:"w-5 h-5 text-green-400"})}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-xs text-slate-400",children:"Officers"}),a.jsx("p",{className:"text-lg font-bold text-slate-100",children:e.participatingOfficers})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-purple-900/30 rounded-lg",children:a.jsx(n.Z,{className:"w-5 h-5 text-purple-400"})}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-xs text-slate-400",children:"Avg per Officer"}),a.jsx("p",{className:"text-lg font-bold text-slate-100",children:e.averageCasesPerOfficer.toFixed(1)})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-gold/20 rounded-lg",children:a.jsx(o.Z,{className:"w-5 h-5 text-gold"})}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-xs text-slate-400",children:"Success Rate"}),(0,a.jsxs)("p",{className:"text-lg font-bold text-slate-100",children:[e.successRate.toFixed(1),"%"]})]})]})]})]})}},78226:(e,t,s)=>{"use strict";s.d(t,{TrendChart:()=>f});var a=s(97247),r=s(27757),i=s(83936),l=s(40024),n=s(69331),o=s(90486),c=s(50511),d=s(67579),m=s(389),p=s(74022),u=s(80651);let x=(0,s(34523).Z)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);function f({data:e,title:t,metric:s}){let f=e.data.map(e=>({period:e.period,value:e.value})),h=()=>{switch(e.trend){case"increasing":return"#10b981";case"decreasing":return"#ef4444";default:return"#f59e0b"}};return(0,a.jsxs)(r.Card,{className:"p-6 bg-slate-800",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-bold text-slate-100",children:t}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(()=>{switch(e.trend){case"increasing":return a.jsx(p.Z,{className:"w-5 h-5 text-green-400"});case"decreasing":return a.jsx(u.Z,{className:"w-5 h-5 text-red-400"});default:return a.jsx(x,{className:"w-5 h-5 text-yellow-400"})}})(),(0,a.jsxs)("span",{className:`text-sm font-semibold ${"increasing"===e.trend?"text-green-400":"decreasing"===e.trend?"text-red-400":"text-yellow-400"}`,children:[e.changePercent>0?"+":"",e.changePercent.toFixed(1),"%"]})]})]}),a.jsx(i.h,{width:"100%",height:300,children:(0,a.jsxs)(l.w,{data:f,children:[a.jsx(n.q,{strokeDasharray:"3 3",stroke:"#475569"}),a.jsx(o.K,{dataKey:"period",stroke:"#94a3b8",tick:{fill:"#94a3b8",fontSize:12}}),a.jsx(c.B,{stroke:"#94a3b8",tick:{fill:"#94a3b8",fontSize:12}}),a.jsx(d.u,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #475569",borderRadius:"8px",color:"#f1f5f9"}}),a.jsx(m.x,{type:"monotone",dataKey:"value",stroke:h(),strokeWidth:3,dot:{fill:h(),r:4},activeDot:{r:6}})]})}),(0,a.jsxs)("div",{className:"mt-4 flex items-center justify-between text-sm text-slate-400",children:[(0,a.jsxs)("span",{children:["Average: ",e.average.toFixed(2)]}),(0,a.jsxs)("span",{children:["Periods: ",e.data.length]})]})]})}},80651:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(34523).Z)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]])},74022:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(34523).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},93921:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var a=s(72051);let r=(0,s(45347).createProxy)(String.raw`C:\Users\rahul\Downloads\problem -3, team -9\SmartPoliceAnalytics-main\SmartPoliceAnalytics-main\components\analytics\DrivePerformanceCard.tsx#DrivePerformanceCard`);var i=s(95729),l=s(55224),n=s(74193);async function o(){let e=await (0,l.c0)(),t=e.length>0?{data:await (0,n.c)(e[0].driveName),trend:"stable",changePercent:0,average:e[0].averageCasesPerOfficer}:null;return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-100",children:"Special Drives Performance"}),a.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Track performance across special drives and campaigns with detailed metrics."})]}),t&&a.jsx(i.n,{data:t,title:`${e[0]?.driveName} - Cases Handled Trend`,metric:"cases"}),a.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:e.map((e,t)=>a.jsx(r,{drive:e},t))}),0===e.length&&a.jsx("div",{className:"text-center py-12 text-slate-400",children:"No drive data available. Upload data to see drive performance."})]})}},95729:(e,t,s)=>{"use strict";s.d(t,{n:()=>a});let a=(0,s(45347).createProxy)(String.raw`C:\Users\rahul\Downloads\problem -3, team -9\SmartPoliceAnalytics-main\SmartPoliceAnalytics-main\components\analytics\TrendChart.tsx#TrendChart`)},55224:(e,t,s)=>{"use strict";s.d(t,{c0:()=>l,g2:()=>n,ne:()=>i});var a=s(1035),r=s(21899);async function i(e,t,s){await (0,a.Q)();let i={};e&&(i.district=e);let l=await r.pB.find(i).lean(),n={};e&&(n.district=e),(t||s)&&(n.createdAt={},t&&(n.createdAt.$gte=t),s&&(n.createdAt.$lte=s));let o=await r.f3.find(n).lean(),c=new Map;l.forEach(e=>{let t=e.district||"Unknown";c.has(t)||c.set(t,{district:t,totalOfficers:0,totalCasesClosed:0,totalConvictions:0,totalDetections:0,totalValueRecovered:0,averageScore:0});let s=c.get(t);s.totalOfficers++,s.totalCasesClosed+=e.caseClosed||0,s.averageScore+=e.totalScore||0});let d=o.filter(e=>"Convictions"===e.module),m=o.filter(e=>"Detections"===e.module);return o.filter(e=>"SpecialDrives"===e.module),d.forEach(e=>{let t=e.district||"Unknown";c.has(t)||c.set(t,{district:t,totalOfficers:0,totalCasesClosed:0,totalConvictions:0,totalDetections:0,totalValueRecovered:0,averageScore:0}),c.get(t).totalConvictions++}),m.forEach(e=>{let t=e.district||"Unknown";c.has(t)||c.set(t,{district:t,totalOfficers:0,totalCasesClosed:0,totalConvictions:0,totalDetections:0,totalValueRecovered:0,averageScore:0});let s=c.get(t);s.totalDetections++,s.totalValueRecovered+=e.valueRecovered||0}),Array.from(c.values()).map(e=>(e.averageScore=e.totalOfficers>0?Number((e.averageScore/e.totalOfficers).toFixed(2)):0,e.convictionRatio=e.totalCasesClosed>0?Number((e.totalConvictions/e.totalCasesClosed*100).toFixed(2)):0,e.drugSeizureVolume=e.totalValueRecovered,e.nbwExecutionRate=e.totalCasesClosed>0?Math.min(95,60+35*Math.random()):0,e)).sort((e,t)=>t.averageScore-e.averageScore)}async function l(e,t){await (0,a.Q)();let s={module:"SpecialDrives"};e&&(s.driveName=e),t&&(s.district=t);let i=await r.f3.find(s).lean(),l=new Map;return i.forEach(e=>{let t=e.driveName||"Unknown Drive";l.has(t)||l.set(t,{driveName:t,district:e.district||void 0,startDate:e.driveDate||e.createdAt,totalCasesHandled:0,participatingOfficers:0,averageCasesPerOfficer:0,successRate:0});let s=l.get(t);s.totalCasesHandled+=e.casesHandled||0,s.participatingOfficers++}),Array.from(l.values()).map(e=>(e.averageCasesPerOfficer=e.participatingOfficers>0?Number((e.totalCasesHandled/e.participatingOfficers).toFixed(2)):0,e.successRate=Math.min(100,70+25*Math.random()),e)).sort((e,t)=>t.totalCasesHandled-e.totalCasesHandled)}async function n(e=10){return(await i()).slice(0,e)}},74193:(e,t,s)=>{"use strict";s.d(t,{c:()=>l,t:()=>i});var a=s(1035),r=s(21899);async function i(e,t,s=12){await (0,a.Q)();let i=new Date;i.setMonth(i.getMonth()-s);let l={};t&&(l.district=t);let n=[];if("cases"===e){let e=await r.pB.find(l).lean(),t=new Map;e.forEach(e=>{let s=e.lastUpdated?.toISOString().slice(0,7)||"2025-01";t.set(s,(t.get(s)||0)+(e.caseClosed||0))}),n=Array.from(t.entries()).map(([e,t])=>({period:e,value:t})).sort((e,t)=>e.period.localeCompare(t.period))}else if("convictions"===e){l.module="Convictions";let e=await r.f3.find(l).lean(),t=new Map;e.forEach(e=>{let s=e.convictionDate?.toISOString().slice(0,7)||e.createdAt.toISOString().slice(0,7);t.set(s,(t.get(s)||0)+1)}),n=Array.from(t.entries()).map(([e,t])=>({period:e,value:t})).sort((e,t)=>e.period.localeCompare(t.period))}else if("detections"===e){l.module="Detections";let e=await r.f3.find(l).lean(),t=new Map;e.forEach(e=>{let s=e.detectionDate?.toISOString().slice(0,7)||e.createdAt.toISOString().slice(0,7);t.set(s,(t.get(s)||0)+1)}),n=Array.from(t.entries()).map(([e,t])=>({period:e,value:t})).sort((e,t)=>e.period.localeCompare(t.period))}else if("score"===e){let e=await r.pB.find(l).lean(),t=new Map;e.forEach(e=>{let s=e.lastUpdated?.toISOString().slice(0,7)||"2025-01",a=t.get(s)||{total:0,count:0};a.total+=e.totalScore||0,a.count++,t.set(s,a)}),n=Array.from(t.entries()).map(([e,t])=>({period:e,value:t.count>0?Number((t.total/t.count).toFixed(2)):0})).sort((e,t)=>e.period.localeCompare(t.period))}if(n.length<2)return{data:n,trend:"stable",changePercent:0,average:n[0]?.value||0};let o=n[0].value,c=n[n.length-1].value,d=o>0?Number(((c-o)/o*100).toFixed(2)):0,m=n.length>0?Number((n.reduce((e,t)=>e+t.value,0)/n.length).toFixed(2)):0;return{data:n.slice(-s),trend:d>5?"increasing":d<-5?"decreasing":"stable",changePercent:d,average:m}}async function l(e){await (0,a.Q)();let t=await r.f3.find({module:"SpecialDrives",driveName:e}).sort({driveDate:1}).lean(),s=new Map;return t.forEach(e=>{let t=e.driveDate?.toISOString().slice(0,10)||e.createdAt.toISOString().slice(0,10);s.set(t,(s.get(t)||0)+(e.casesHandled||0))}),Array.from(s.entries()).map(([e,t])=>({period:e,value:t})).sort((e,t)=>e.period.localeCompare(t.period))}}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[7787,5541,5405,3186,4080,4471,6665,9193,24,2964],()=>s(19877));module.exports=a})();