(()=>{var e={};e.id=8953,e.ids=[8953,6444],e.modules={11185:e=>{"use strict";e.exports=require("mongoose")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},63250:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>h,originalPathname:()=>m,pages:()=>c,routeModule:()=>x,tree:()=>d}),r(64262),r(69738),r(90996),r(54403);var s=r(30170),a=r(45002),l=r(83876),n=r.n(l),i=r(66299),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);r.d(t,o);let d=["",{children:["(dashboard)",{children:["recognitions",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,64262)),"C:\\Users\\rahul\\Downloads\\problem -3, team -9\\SmartPoliceAnalytics-main\\SmartPoliceAnalytics-main\\app\\(dashboard)\\recognitions\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,69738)),"C:\\Users\\rahul\\Downloads\\problem -3, team -9\\SmartPoliceAnalytics-main\\SmartPoliceAnalytics-main\\app\\(dashboard)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,90996,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,54403)),"C:\\Users\\rahul\\Downloads\\problem -3, team -9\\SmartPoliceAnalytics-main\\SmartPoliceAnalytics-main\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,90996,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\rahul\\Downloads\\problem -3, team -9\\SmartPoliceAnalytics-main\\SmartPoliceAnalytics-main\\app\\(dashboard)\\recognitions\\page.tsx"],m="/(dashboard)/recognitions/page",h={require:r,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(dashboard)/recognitions/page",pathname:"/recognitions",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},91135:(e,t,r)=>{Promise.resolve().then(r.bind(r,90641))},43025:(e,t,r)=>{Promise.resolve().then(r.bind(r,53612))},87373:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,63642,23)),Promise.resolve().then(r.t.bind(r,87586,23)),Promise.resolve().then(r.t.bind(r,47838,23)),Promise.resolve().then(r.t.bind(r,58057,23)),Promise.resolve().then(r.t.bind(r,77741,23)),Promise.resolve().then(r.t.bind(r,13118,23))},87527:()=>{},90641:(e,t,r)=>{"use strict";r.d(t,{ProtectedShell:()=>q});var s=r(97247),a=r(34178),l=r(79906),n=r(1423),i=r(81621),o=r(97792),d=r(9527),c=r(62673),m=r(70712),h=r(82522),x=r(66903),u=r(69964),b=r(57989);let g=[{href:"/dashboard",label:"Overview",icon:n.Z},{href:"/leaderboard",label:"Leaderboard",icon:i.Z},{href:"/analytics",label:"Analytics",icon:o.Z},{href:"/districts",label:"Districts",icon:d.Z},{href:"/drives",label:"Drives",icon:c.Z},{href:"/special-drives",label:"Special Drives",icon:m.Z},{href:"/map",label:"Map View",icon:h.Z},{href:"/recognitions",label:"Recognitions",icon:i.Z},{href:"/reports",label:"Reports",icon:x.Z},{href:"/data-ingestion",label:"Data Ingestion",icon:u.Z},{href:"/admin",label:"Admin",icon:b.Z}];function p(){let e=(0,a.usePathname)();return(0,s.jsxs)("aside",{className:"hidden lg:flex w-64 flex-col border-r border-slate-800 bg-[#101931]",children:[s.jsx("div",{className:"p-6",children:s.jsx("h2",{className:"text-sm uppercase tracking-wide text-slate-400",children:"Navigation"})}),s.jsx("nav",{className:"flex-1 px-2 space-y-1",children:g.map(t=>{let r=t.icon,a=e.startsWith(t.href);return(0,s.jsxs)(l.default,{href:t.href,className:`flex items-center gap-3 rounded-lg px-4 py-3 text-sm transition ${a?"bg-gold/20 text-gold border border-gold/40":"text-slate-300 hover:bg-indigoPolice hover:text-gold"}`,children:[s.jsx(r,{className:"h-4 w-4"}),t.label]},t.href)})}),(0,s.jsxs)("div",{className:"p-4 text-xs text-slate-500 border-t border-slate-800",children:["\xa9 ",new Date().getFullYear()," Team Innosphere. All rights reserved."]})]})}var f=r(12662),v=r(5495),j=r(19400),y=r(83128),N=r(28964);let P=[{href:"/dashboard",label:"Dashboard"},{href:"/leaderboard",label:"Leaderboard"},{href:"/analytics",label:"Analytics"},{href:"/recognitions",label:"Recognitions"},{href:"/reports",label:"Reports"},{href:"/admin",label:"Admin"}];function w({username:e}){let t=(0,a.usePathname)(),r=(0,a.useRouter)(),[n,i]=(0,N.useState)(!0),o=async()=>{await y.Z.post("/api/auth/logout"),r.push("/login")};return(0,s.jsxs)("header",{className:"flex items-center justify-between border-b border-slate-800 bg-indigoPolice-dark px-6 py-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-6",children:[s.jsx(l.default,{href:"/dashboard",className:"text-lg font-semibold text-gold",children:"Smart Police Analytics"}),s.jsx("nav",{className:"hidden md:flex items-center gap-4 text-sm text-slate-300",children:P.map(e=>s.jsx(l.default,{href:e.href,className:`hover:text-gold transition ${t.startsWith(e.href)?"text-gold font-semibold":""}`,children:e.label},e.href))})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[s.jsx("button",{onClick:()=>i(e=>!e),className:"rounded-lg border border-slate-700 p-2 text-slate-300 hover:border-gold/60 hover:text-gold transition",children:n?s.jsx(f.Z,{className:"h-4 w-4"}):s.jsx(v.Z,{className:"h-4 w-4"})}),(0,s.jsxs)("div",{className:"hidden md:flex flex-col text-right text-xs text-slate-400",children:[s.jsx("span",{className:"text-slate-200 font-semibold",children:e??"User"}),s.jsx("span",{children:"Team Innosphere"})]}),(0,s.jsxs)("button",{onClick:o,className:"inline-flex items-center gap-2 rounded-lg bg-gold px-3 py-2 text-xs font-semibold text-black hover:bg-gold/90 transition",children:[s.jsx(j.Z,{className:"h-4 w-4"}),"Logout"]})]})]})}var S=r(37013),A=r(6683);let C=[{href:"/dashboard",label:"Overview",icon:n.Z},{href:"/leaderboard",label:"Leaderboard",icon:i.Z},{href:"/analytics",label:"Analytics",icon:o.Z},{href:"/districts",label:"Districts",icon:d.Z},{href:"/drives",label:"Drives",icon:c.Z},{href:"/map",label:"Map",icon:h.Z},{href:"/recognitions",label:"Recognitions",icon:i.Z},{href:"/reports",label:"Reports",icon:x.Z},{href:"/data-ingestion",label:"Upload",icon:u.Z},{href:"/admin",label:"Admin",icon:b.Z}];function Z(){let[e,t]=(0,N.useState)(!1),r=(0,a.usePathname)();return(0,s.jsxs)(s.Fragment,{children:[s.jsx("div",{className:"lg:hidden fixed bottom-4 right-4 z-50",children:s.jsx("button",{onClick:()=>t(!e),className:"w-14 h-14 bg-gold rounded-full shadow-lg flex items-center justify-center text-slate-900 hover:bg-gold/90 transition-colors",children:e?s.jsx(S.Z,{className:"w-6 h-6"}):s.jsx(A.Z,{className:"w-6 h-6"})})}),e&&s.jsx("div",{className:"lg:hidden fixed inset-0 bg-black/50 z-40",onClick:()=>t(!1),children:(0,s.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 bg-slate-900 border-t border-slate-700 rounded-t-2xl p-4 max-h-[80vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:[s.jsx("div",{className:"mb-4",children:s.jsx("h3",{className:"text-lg font-bold text-slate-100 mb-2",children:"Navigation"})}),s.jsx("nav",{className:"space-y-2",children:C.map(e=>{let a=e.icon,n=r.startsWith(e.href);return(0,s.jsxs)(l.default,{href:e.href,onClick:()=>t(!1),className:`flex items-center gap-3 px-4 py-3 rounded-lg transition ${n?"bg-gold/20 text-gold border border-gold/40":"text-slate-300 hover:bg-slate-800"}`,children:[s.jsx(a,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:e.label})]},e.href)})})]})})]})}function q({children:e,username:t}){let r=(0,a.usePathname)().startsWith("/admin");return(0,s.jsxs)("div",{className:"min-h-screen bg-[#0b1220] text-slate-100",children:[s.jsx(w,{username:t}),(0,s.jsxs)("div",{className:"flex",children:[s.jsx(p,{}),(0,s.jsxs)("main",{className:"flex-1 min-h-[calc(100vh-64px)] bg-[#0b1220]",children:[(0,s.jsxs)("div",{className:"space-y-2 border-b border-slate-800 bg-[#101931] px-6 py-4 text-sm text-slate-400",children:[s.jsx("div",{className:"rounded-lg border border-gold/40 bg-gold/10 px-4 py-2 text-xs text-gold",children:"Demo mode enabled. All analytics and leaderboard data use simulated officer records."}),r?"Admin Control Center â€¢ Manage officers, weights, and recognition rules":"Welcome to the Smart Police Analytics dashboard"]}),s.jsx("div",{className:"px-6 py-6",children:e})]})]}),s.jsx(Z,{})]})}},53612:(e,t,r)=>{"use strict";r.d(t,{RecognitionTimeline:()=>i});var s=r(97247),a=r(27757),l=r(81621);let n={Gold:{bg:"bg-amber-500/20",text:"text-amber-300"},Silver:{bg:"bg-slate-500/20",text:"text-slate-200"},Bronze:{bg:"bg-orange-500/20",text:"text-orange-300"}};function i({items:e}){return(0,s.jsxs)(a.Card,{className:"p-6",children:[s.jsx("h2",{className:"mb-4 text-lg font-semibold text-slate-100",children:"Recognition Timeline"}),s.jsx("div",{className:"space-y-4",children:e.map(e=>(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:`rounded-full p-3 ${n[e.badge].bg}`,children:s.jsx(l.Z,{className:`h-5 w-5 ${n[e.badge].text}`})}),s.jsx("div",{className:"mt-1 h-full w-px bg-slate-800"})]}),(0,s.jsxs)("div",{className:"flex-1 rounded-xl border border-slate-800 bg-[#0f172a] p-4",children:[(0,s.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"text-sm font-semibold text-slate-100",children:[e.officer.name," (",e.officer.badgeId,")"]}),s.jsx("p",{className:"text-xs text-slate-500",children:e.officer.department})]}),s.jsx("span",{className:"rounded-full border border-slate-700 px-3 py-1 text-xs text-slate-400",children:e.month})]}),(0,s.jsxs)("div",{className:"mt-3 space-y-2 text-xs text-slate-400",children:[(0,s.jsxs)("p",{children:[s.jsx("span",{className:"font-semibold text-slate-300",children:e.badge})," badge awarded by"," ",s.jsx("span",{className:"font-semibold text-slate-300",children:e.recognizedBy})]}),e.message&&s.jsx("p",{className:"rounded-lg border border-slate-800 bg-[#111b33] p-3 text-slate-300",children:e.message})]})]})]},e.id))})]})}},27757:(e,t,r)=>{"use strict";r.d(t,{Card:()=>l});var s=r(97247),a=r(61929);function l({className:e,children:t}){return s.jsx("div",{className:(0,a.Z)("rounded-2xl border border-slate-800 bg-[#111b33] shadow-lg shadow-black/10",e),children:t})}},69738:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var s=r(72051),a=r(41288);let l=(0,r(45347).createProxy)(String.raw`C:\Users\rahul\Downloads\problem -3, team -9\SmartPoliceAnalytics-main\SmartPoliceAnalytics-main\components\layout\ProtectedShell.tsx#ProtectedShell`);var n=r(51639);async function i({children:e}){let t=await (0,n.t)();return t||(0,a.redirect)("/login"),s.jsx(l,{username:t.username,children:e})}},64262:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var s=r(72051),a=r(1035),l=r(21899),n=r(56444);async function i(){await (0,a.Q)();let e=await l.rB.find().populate("officerId").sort({createdAt:-1}).limit(25).lean();return e.length?e.map(e=>{let t=e.officerId;return{id:e._id.toString(),badge:e.badge,month:e.month,recognizedBy:e.recognizedBy,message:e.message,officer:{name:t?.name??"Unknown Officer",badgeId:t?.badgeId??"N/A",department:t?.department??"N/A"}}}):(0,n.getDemoOfficers)(6).map((e,t)=>({id:`${t}`,badge:t<2?"Gold":t<4?"Silver":"Bronze",month:"2025-10",recognizedBy:"HQ",message:"Outstanding service and commitment.",officer:{name:e.name,badgeId:e.badgeId,department:e.department}}))}let o=(0,r(45347).createProxy)(String.raw`C:\Users\rahul\Downloads\problem -3, team -9\SmartPoliceAnalytics-main\SmartPoliceAnalytics-main\components\recognitions\RecognitionTimeline.tsx#RecognitionTimeline`);async function d(){let e=await i();return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-slate-100",children:"Recognition Center"}),s.jsx("p",{className:"text-sm text-slate-400",children:"Celebrate officers earning Gold, Silver, and Bronze badges for outstanding service."})]}),s.jsx(o,{items:e})]})}},54403:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o,dynamic:()=>n,metadata:()=>i});var s=r(72051),a=r(45662),l=r.n(a);r(67272);let n="force-dynamic",i={title:"Smart Police Analytics",description:"AI-powered analytics dashboard for police good work recognition."};function o({children:e}){return s.jsx("html",{lang:"en",className:"bg-[#0b1220]",children:s.jsx("body",{className:`${l().variable} antialiased bg-[#0b1220] text-slate-100`,children:e})})}},16910:(e,t,r)=>{"use strict";r.d(t,{$v:()=>x,I2:()=>u,Md:()=>d,Oe:()=>m,c_:()=>c,w5:()=>b,z:()=>h});var s=r(63506),a=r.n(s),l=r(67390),n=r.n(l),i=r(52845),o=r(56377);let d="police-dashboard-token";function c(e){return a().hash(e,10)}function m(e,t){return a().compare(e,t)}function h(e){let t=o.O.JWT_SECRET,r=o.O.JWT_EXPIRES_IN||"7d";return n().sign(e,t,{expiresIn:r})}function x(e){let t=o.O.JWT_SECRET;return n().verify(e,t)}function u(){(0,i.cookies)().delete(d)}function b(){return i.cookies().get(d)?.value??null}},56444:(e,t,r)=>{"use strict";r.d(t,{getDemoOfficers:()=>l});let s=["Cyber Cell","Crime Branch","Traffic","Women & Child","Special Task Force"],a=["Inspector","Sub-Inspector","ASI","DSP","Head Constable"];function l(e=20){return Array.from({length:e}).map((e,t)=>{let r=Math.floor(120*Math.random()),l=Math.floor(80*Math.random()),n=Number((3+2*Math.random()).toFixed(1)),i=Math.floor(15*Math.random());return{name:`Officer ${String.fromCharCode(65+t%26)}${t}`,badgeId:`BDG${1e3+t}`,department:s[t%s.length],designation:a[t%a.length],caseClosed:r,cyberResolved:l,feedbackScore:n,awarenessPrograms:i,emergencyResponses:Math.floor(200*Math.random()),totalScore:Number((.4*r+.3*l+.2*n*10+.1*i).toFixed(2))}})}},51639:(e,t,r)=>{"use strict";r.d(t,{t:()=>i});var s=r(26269),a=r(1035),l=r(21899),n=r(16910);let i=(0,s.cache)(async()=>{let e=(0,n.w5)();if(!e)return null;try{let t=(0,n.$v)(e);await (0,a.Q)();let r=await l.GX.findById(t.sub).select("-password").lean();if(!r)return null;return{id:r._id.toString(),username:r.username,role:t.role}}catch(e){return console.warn("Failed to get current user",e),null}})},67272:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[7787,5541,5405,3186,4080,4471,6665,540],()=>r(63250));module.exports=s})();