(()=>{var e={};e.id=9302,e.ids=[9302,6444],e.modules={11185:e=>{"use strict";e.exports=require("mongoose")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},82889:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>d,routeModule:()=>h,tree:()=>c}),r(62507),r(69738),r(90996),r(54403);var a=r(30170),s=r(45002),o=r(83876),n=r.n(o),i=r(66299),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let c=["",{children:["(dashboard)",{children:["analytics",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,62507)),"C:\\Users\\rahul\\Downloads\\problem -3, team -9\\SmartPoliceAnalytics-main\\SmartPoliceAnalytics-main\\app\\(dashboard)\\analytics\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,69738)),"C:\\Users\\rahul\\Downloads\\problem -3, team -9\\SmartPoliceAnalytics-main\\SmartPoliceAnalytics-main\\app\\(dashboard)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,90996,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,54403)),"C:\\Users\\rahul\\Downloads\\problem -3, team -9\\SmartPoliceAnalytics-main\\SmartPoliceAnalytics-main\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,90996,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\rahul\\Downloads\\problem -3, team -9\\SmartPoliceAnalytics-main\\SmartPoliceAnalytics-main\\app\\(dashboard)\\analytics\\page.tsx"],m="/(dashboard)/analytics/page",u={require:r,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/(dashboard)/analytics/page",pathname:"/analytics",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},14733:(e,t,r)=>{Promise.resolve().then(r.bind(r,63846)),Promise.resolve().then(r.bind(r,91289)),Promise.resolve().then(r.bind(r,4959))},63846:(e,t,r)=>{"use strict";r.d(t,{BarContribution:()=>u});var a=r(97247),s=r(83936),o=r(22794),n=r(69331),i=r(90486),l=r(50511),c=r(67579),d=r(99033),m=r(27757);function u({data:e}){return(0,a.jsxs)(m.Card,{className:"p-6",children:[a.jsx("h3",{className:"mb-4 text-lg font-semibold text-slate-100",children:"Department Contribution"}),a.jsx("div",{className:"h-72",children:a.jsx(s.h,{width:"100%",height:"100%",children:(0,a.jsxs)(o.v,{data:e,children:[a.jsx(n.q,{strokeDasharray:"4 4",stroke:"#1f2937"}),a.jsx(i.K,{dataKey:"department",stroke:"#94a3b8"}),a.jsx(l.B,{stroke:"#94a3b8"}),a.jsx(c.u,{contentStyle:{backgroundColor:"#0f172a",border:"1px solid #1e293b",borderRadius:12}}),a.jsx(d.$,{dataKey:"total",fill:"#F5C542",radius:[10,10,0,0]})]})})})]})}},91289:(e,t,r)=>{"use strict";r.d(t,{LineTrend:()=>u});var a=r(97247),s=r(83936),o=r(40024),n=r(69331),i=r(90486),l=r(50511),c=r(67579),d=r(389),m=r(27757);function u({data:e}){return(0,a.jsxs)(m.Card,{className:"p-6",children:[a.jsx("h3",{className:"mb-4 text-lg font-semibold text-slate-100",children:"Average Performance Trend"}),a.jsx("div",{className:"h-72",children:a.jsx(s.h,{width:"100%",height:"100%",children:(0,a.jsxs)(o.w,{data:e,children:[a.jsx(n.q,{strokeDasharray:"4 4",stroke:"#1f2937"}),a.jsx(i.K,{dataKey:"month",stroke:"#94a3b8"}),a.jsx(l.B,{stroke:"#94a3b8"}),a.jsx(c.u,{contentStyle:{backgroundColor:"#0f172a",border:"1px solid #1e293b",borderRadius:12}}),a.jsx(d.x,{type:"monotone",dataKey:"average",stroke:"#F5C542",strokeWidth:3,dot:{r:4}})]})})})]})}},4959:(e,t,r)=>{"use strict";r.d(t,{PieRecognition:()=>u});var a=r(97247),s=r(83936),o=r(28116),n=r(11746),i=r(14779),l=r(67579),c=r(28801),d=r(27757);let m=["#FBBF24","#93C5FD","#F97316"];function u({data:e}){return(0,a.jsxs)(d.Card,{className:"p-6",children:[a.jsx("h3",{className:"mb-4 text-lg font-semibold text-slate-100",children:"Recognition Badge Distribution"}),a.jsx("div",{className:"h-72",children:a.jsx(s.h,{width:"100%",height:"100%",children:(0,a.jsxs)(o.u,{children:[a.jsx(n.b,{data:e,dataKey:"count",nameKey:"badge",outerRadius:110,label:({badge:e,percent:t})=>`${e}: ${(100*t).toFixed(0)}%`,children:e.map((e,t)=>a.jsx(i.b,{fill:m[t%m.length]},t))}),a.jsx(l.u,{contentStyle:{backgroundColor:"#0f172a",border:"1px solid #1e293b",borderRadius:12}}),a.jsx(c.D,{})]})})})]})}},62507:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var a=r(72051),s=r(1035),o=r(21899),n=r(56444);async function i(){await (0,s.Q)();let e=await o.pB.find().lean(),t=e.length?e:(0,n.getDemoOfficers)(30);return{trendData:Object.entries(t.map(e=>({month:e.lastUpdated?.toISOString().slice(0,7)??"2025-01",score:e.totalScore})).reduce((e,t)=>(e[t.month]||(e[t.month]={total:0,count:0}),e[t.month].total+=t.score,e[t.month].count+=1,e),{})).map(([e,t])=>({month:e,average:Number((t.total/t.count).toFixed(2))})).sort((e,t)=>e.month.localeCompare(t.month)).slice(-6),departmentData:Object.entries(t.reduce((e,t)=>(e[t.department]=(e[t.department]??0)+t.totalScore,e),{})).map(([e,t])=>({department:e,total:Number(t.toFixed(2))})).sort((e,t)=>t.total-e.total),recognitionData:e.length?(await o.rB.aggregate([{$group:{_id:"$badge",count:{$sum:1}}}])).map(e=>({badge:e._id,count:e.count})):[{badge:"Gold",count:6},{badge:"Silver",count:9},{badge:"Bronze",count:12}]}}var l=r(45347);let c=(0,l.createProxy)(String.raw`C:\Users\rahul\Downloads\problem -3, team -9\SmartPoliceAnalytics-main\SmartPoliceAnalytics-main\components\charts\LineTrend.tsx#LineTrend`),d=(0,l.createProxy)(String.raw`C:\Users\rahul\Downloads\problem -3, team -9\SmartPoliceAnalytics-main\SmartPoliceAnalytics-main\components\charts\BarContribution.tsx#BarContribution`),m=(0,l.createProxy)(String.raw`C:\Users\rahul\Downloads\problem -3, team -9\SmartPoliceAnalytics-main\SmartPoliceAnalytics-main\components\charts\PieRecognition.tsx#PieRecognition`);async function u(){let{trendData:e,departmentData:t,recognitionData:r}=await i();return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-100",children:"Analytics & Insights"}),a.jsx("p",{className:"text-sm text-slate-400",children:"Monitor officer performance trends, department contributions, and recognition distribution to make data-driven decisions."})]}),(0,a.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[a.jsx(c,{data:e}),a.jsx(d,{data:t})]}),a.jsx(m,{data:r})]})}},56444:(e,t,r)=>{"use strict";r.d(t,{getDemoOfficers:()=>o});let a=["Cyber Cell","Crime Branch","Traffic","Women & Child","Special Task Force"],s=["Inspector","Sub-Inspector","ASI","DSP","Head Constable"];function o(e=20){return Array.from({length:e}).map((e,t)=>{let r=Math.floor(120*Math.random()),o=Math.floor(80*Math.random()),n=Number((3+2*Math.random()).toFixed(1)),i=Math.floor(15*Math.random());return{name:`Officer ${String.fromCharCode(65+t%26)}${t}`,badgeId:`BDG${1e3+t}`,department:a[t%a.length],designation:s[t%s.length],caseClosed:r,cyberResolved:o,feedbackScore:n,awarenessPrograms:i,emergencyResponses:Math.floor(200*Math.random()),totalScore:Number((.4*r+.3*o+.2*n*10+.1*i).toFixed(2))}})}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[7787,5541,5405,3186,4080,4471,6665,9193,24,9102,2964],()=>r(82889));module.exports=a})();