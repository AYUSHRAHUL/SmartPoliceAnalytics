"use strict";(()=>{var e={};e.id=4294,e.ids=[4294],e.modules={11185:e=>{e.exports=require("mongoose")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},49778:(e,t,s)=>{s.r(t),s.d(t,{originalPathname:()=>f,patchFetch:()=>v,requestAsyncStorage:()=>m,routeModule:()=>l,serverHooks:()=>x,staticGenerationAsyncStorage:()=>g});var r={};s.r(r),s.d(r,{GET:()=>d,runtime:()=>p});var n=s(73278),o=s(45002),a=s(54877),i=s(1035),u=s(21899),c=s(51104);let p="nodejs";async function d(e){let{searchParams:t}=new URL(e.url),s=t.get("category"),r=t.get("district"),n=t.get("department"),o=Number(t.get("limit")??10);try{await (0,i.Q)();let e={};r&&(e.district=r),n&&(e.department=n);let t=await u.pB.find(e).sort({[({CrimeSolving:"caseClosed",Cybercrime:"cyberResolved",CitizenEngagement:"feedbackScore",Awareness:"awarenessPrograms"})[s??""]??"totalScore"]:-1}).limit(o).lean();return(0,c.ok)(t)}catch(e){return(0,c.I3)("Failed to fetch rankings",e)}}let l=new n.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/rankings/route",pathname:"/api/rankings",filename:"route",bundlePath:"app/api/rankings/route"},resolvedPagePath:"C:\\Users\\rahul\\Downloads\\problem -3, team -9\\SmartPoliceAnalytics-main\\SmartPoliceAnalytics-main\\app\\api\\rankings\\route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:m,staticGenerationAsyncStorage:g,serverHooks:x}=l,f="/api/rankings/route";function v(){return(0,a.patchFetch)({serverHooks:x,staticGenerationAsyncStorage:g})}},51104:(e,t,s)=>{s.d(t,{Hs:()=>i,I3:()=>p,ID:()=>u,i2:()=>o,ok:()=>n,v6:()=>c,yw:()=>a});var r=s(71309);function n(e,t){return r.NextResponse.json({success:!0,data:e},{status:200,...t})}function o(e){return r.NextResponse.json({success:!0,data:e},{status:201})}function a(e,t){return r.NextResponse.json({success:!1,message:e,details:t},{status:400})}function i(e="Unauthorized"){return r.NextResponse.json({success:!1,message:e},{status:401})}function u(e="Forbidden"){return r.NextResponse.json({success:!1,message:e},{status:403})}function c(e="Not found"){return r.NextResponse.json({success:!1,message:e},{status:404})}function p(e="Internal server error",t){return console.error(e,t),r.NextResponse.json({success:!1,message:e},{status:500})}}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[7787,5541,4833,540],()=>s(49778));module.exports=r})();