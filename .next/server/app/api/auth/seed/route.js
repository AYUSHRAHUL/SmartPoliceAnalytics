"use strict";(()=>{var e={};e.id=1254,e.ids=[1254],e.modules={11185:e=>{e.exports=require("mongoose")},72934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},78893:e=>{e.exports=require("buffer")},84770:e=>{e.exports=require("crypto")},76162:e=>{e.exports=require("stream")},21764:e=>{e.exports=require("util")},56939:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>E,patchFetch:()=>_,requestAsyncStorage:()=>P,routeModule:()=>O,serverHooks:()=>I,staticGenerationAsyncStorage:()=>x});var a={};r.r(a),r.d(a,{POST:()=>B,runtime:()=>R});var n=r(73278),i=r(45002),o=r(54877),s=r(1035),d=r(21899),l=r(16910),u=r(51104),c=r(9094);let m=["Angul","Balangir","Balasore","Bargarh","Bhadrak","Boudh","Cuttack","Deogarh","Dhenkanal","Gajapati","Ganjam","Jagatsinghpur","Jajpur","Jharsuguda","Kalahandi","Kandhamal","Kendrapara","Kendujhar","Khordha","Koraput","Malkangiri","Mayurbhanj","Nabarangpur","Nayagarh","Nuapada","Puri","Rayagada","Sambalpur","Subarnapur","Sundargarh"],p=["Cyber Cell","Crime Branch","Traffic","Women & Child","Special Task Force","Narcotics","Anti-Terrorism","Intelligence","Patrol","Investigation"],g=["Inspector","Sub-Inspector","ASI","DSP","Head Constable","Constable","ACP","DCP"],y=["Operation Clean Sweep","Anti-Drug Campaign","Traffic Safety Drive","Cyber Crime Prevention","Women Safety Initiative","Night Patrol Operation","Community Policing Drive","Crime Prevention Week"],f=["Theft","Assault","Fraud","Drug Possession","Cyber Crime","Domestic Violence","Robbery","Murder","Kidnapping","Extortion"],D=["Narcotics","Cyber Crime","Property Crime","Violent Crime","Financial Crime","Organized Crime"];function S(e){return e[Math.floor(Math.random()*e.length)]}function h(e,t){return Math.floor(Math.random()*(t-e+1))+e}function b(e,t){return Number((Math.random()*(t-e)+e).toFixed(2))}async function N(e){console.log(`Generating ${e} officers across ${m.length} Odisha districts...`);let t=[],r=Math.floor(e/m.length),a=e%m.length,n=0;for(let e=0;e<m.length;e++){let s=m[e],d=r+(e<a?1:0);for(let e=0;e<d;e++){var i,o;let e=h(0,200),r=h(0,100),a=b(3.5,5),d=h(0,25),l=h(0,300),u=.4*e+.3*r+.2*a*10+.1*d;t.push({name:(i=n,`${S(["Rajesh","Priya","Amit","Sneha","Vikram","Anjali","Rohit","Kavita","Suresh","Meera","Arjun","Divya","Kiran","Pooja","Manoj","Swati","Nikhil","Riya","Deepak","Shreya","Prabhat","Sangita","Bikash","Rashmi","Sourav","Anita","Debasis","Madhuri","Siddharth","Pratibha"])} ${S(["Kumar","Mohanty","Patnaik","Das","Behera","Sahoo","Panda","Rout","Mishra","Nayak"])} ${i}`),badgeId:(o=n,`OD${String(1e3+o).padStart(4,"0")}`),department:S(p),designation:S(g),district:s,caseClosed:e,cyberResolved:r,feedbackScore:a,awarenessPrograms:d,emergencyResponses:l,totalScore:Number(u.toFixed(2)),lastUpdated:new Date(Date.now()-864e5*h(0,180))}),n++}}return await d.pB.insertMany(t),console.log(`âœ“ Created ${t.length} officers across all Odisha districts`),t}async function w(e,t){console.log(`Generating ${t} CCTNS data entries...`);let r=await d.GU.create({filename:"odisha-seed-data-import.csv",source:"Manual",status:"completed",uploadedBy:"system",totalRecords:t,processedRecords:t,failedRecords:0,errors:[]}),a=["SpecialDrives","Convictions","Detections"],n=[];for(let i=0;i<t;i++){let t=S(e),i=S(a),o=new Date(Date.now()-864e5*h(0,180)),s={module:i,officerBadgeId:t.badgeId,officerName:t.name,department:t.department,district:t.district,rawData:{},importLogId:r._id};"SpecialDrives"===i?(s.driveName=S(y),s.driveDate=new Date(o),s.casesHandled=h(1,60)):"Convictions"===i?(s.caseNumber=`CASE-${h(1e3,9999)}/${new Date().getFullYear()}`,s.convictionDate=new Date(o),s.crimeType=S(f),s.courtName=`${t.district} District Court`):"Detections"===i&&(s.detectionDate=new Date(o),s.crimeCategory=S(D),s.valueRecovered=h(1e3,6e5)),n.push(s)}await d.f3.insertMany(n),console.log(`âœ“ Created ${t} CCTNS data entries`)}async function v(e){console.log(`Generating ${e} recognitions...`);let t=await d.pB.find().lean();if(0===t.length){console.log("No officers found, skipping recognitions");return}let r=["2024-01","2024-02","2024-03","2024-04","2024-05","2024-06","2024-07","2024-08","2024-09","2024-10","2024-11","2024-12","2025-01","2025-02","2025-03"],a=[],n=t.sort((e,t)=>(t.totalScore||0)-(e.totalScore||0)).slice(0,Math.floor(.2*e));for(let i=0;i<e;i++){let o,s;i<n.length?(o=n[i],s="Gold"):i<.5*e?(o=S(t.filter(e=>(e.totalScore||0)>50)),s="Silver"):(o=S(t),s="Bronze"),o&&o._id&&a.push({officerId:o._id,month:S(r),badge:s,message:`Outstanding performance in ${S(["crime prevention","cyber security","community service","case resolution","public safety"])}.`,recognizedBy:S(["HQ","DGP","SP","Commissioner"]),date:new Date(Date.now()-864e5*h(0,120))})}await d.rB.insertMany(a),console.log(`âœ“ Created ${a.length} recognitions`)}async function C(){console.log("Generating Special Drives data for all Odisha districts...");let e=m.map(e=>({district:e,totalNBWPendingStart:h(50,500),nbwReceived:h(10,100),total:0,nbwExecutedDuringDrive:h(20,200),nbwOtherwiseDisposed:h(5,50),totalDisposed:0,nbwPendingEnd:h(30,300),nbwExecutedSTGR:h(5,50),nbwExecutedST:h(10,100),nbwExecutedGR:h(5,50),nbwExecutedOther:h(5,50),totalRecalled:h(0,20),returned:h(0,10),totalBefore:0,driveDate:new Date(Date.now()-864e5*h(0,90))}));for(let t of e)t.total=t.totalNBWPendingStart+t.nbwReceived,t.totalDisposed=t.nbwExecutedDuringDrive+t.nbwOtherwiseDisposed,t.totalBefore=t.totalRecalled+t.returned;await c.tB.insertMany(e),console.log(`âœ“ Created ${e.length} NBW Drive entries`);let t=m.map(e=>({district:e,casesRegistered:h(5,50),personsArrested:h(3,30),gunsRifles:h(0,20),pistols:h(0,30),revolvers:h(0,15),mouzers:h(0,10),ak47:h(0,5),slr:h(0,8),others:h(0,25),ammunition:h(100,5e3),cartridges:h(50,2e3),driveDate:new Date(Date.now()-864e5*h(0,90))}));await c.um.insertMany(t),console.log(`âœ“ Created ${t.length} Firearms Drive entries`);let r=m.map(e=>({district:e,casesRegistered:h(2,30),vehiclesSeized:h(1,20),personsArrested:h(1,15),noticeServed:h(5,50),driveDate:new Date(Date.now()-864e5*h(0,90))}));await c.Ge.insertMany(r),console.log(`âœ“ Created ${r.length} Sand Mining Drive entries`);let a=m.map(e=>({district:e,boyMissingStart:h(0,25),boyMissingDuring:h(0,12),boyTraced:h(0,18),girlMissingStart:h(0,30),girlMissingDuring:h(0,15),girlTraced:h(0,25),maleMissingStart:h(0,35),maleMissingDuring:h(0,18),maleTraced:h(0,30),femaleMissingStart:h(0,40),femaleMissingDuring:h(0,20),femaleTraced:h(0,35),driveDate:new Date(Date.now()-864e5*h(0,90))}));await c.x6.insertMany(a),console.log(`âœ“ Created ${a.length} Missing Persons Drive entries`);let n=m.map(e=>{let t=h(500,6e3),r=h(100,2500),a=Number((r/t*100).toFixed(2));return{district:e,casesReportedYear:t,casesPending30Days:r,pendencyPercent:a,targetCasesToClose:h(50,600),casesClosedInDrive:h(30,500),driveDate:new Date(Date.now()-864e5*h(0,90))}});await c.OP.insertMany(n),console.log(`âœ“ Created ${n.length} Case Pendency Drive entries`);let i=m.map(e=>({district:e,notice129BNSS:h(0,60),boundDown129BNSS:h(0,50),notice126BNSS:h(0,55),boundDown126BNSS:h(0,45),bookedUnderNSA:h(0,12),nbwExecuted:h(0,35),casesForcibleChanda:h(0,25),arrestsForChanda:h(0,30),blockingsBorderSealings:h(0,18),actionAgainstOrganizedCrime:h(0,25),driveDate:new Date(Date.now()-864e5*h(0,90))}));await c.t0.insertMany(i),console.log(`âœ“ Created ${i.length} Preventive Measures Drive entries`);let o=m.map(e=>({district:e,exciseCasesRegistered:h(5,50),personsArrested:h(3,40),detailsOfSeizure:`Seized ${h(10,600)} liters of illegal liquor and ${h(5,60)} bottles`,driveDate:new Date(Date.now()-864e5*h(0,90))}));await c.py.insertMany(o),console.log(`âœ“ Created ${o.length} Excise Act entries`);let s=m.map(e=>({district:e,opgCasesRegistered:h(3,35),personsArrested:h(2,30),detailsOfSeizure:`Seized property worth â‚¹${h(1e4,6e5)} and documents`,driveDate:new Date(Date.now()-864e5*h(0,90))}));await c._1.insertMany(s),console.log(`âœ“ Created ${s.length} OPG Act entries`);let d=m.map(e=>({district:e,casesRegistered:h(5,60),personsArrested:h(3,50),ganja:b(0,600),brownSugar:b(0,60),vehicles:h(0,18),ganjaPlantsDestroyed:h(0,1200),bhang:b(0,250),opium:b(0,35),coughSyrup:h(0,600),cash:h(5e4,25e5),driveDate:new Date(Date.now()-864e5*h(0,90))}));await c.nf.insertMany(d),console.log(`âœ“ Created ${d.length} Narcotics Enforcement entries`)}async function M(){console.log("\uD83D\uDE80 Starting Odisha State Data Seeding..."),console.log(`ðŸ“ Generating data for all ${m.length} Odisha districts
`),console.log("Clearing existing data (preserving admin users and KPI weights)..."),await d.pB.deleteMany({}),await d.f3.deleteMany({}),await d.rB.deleteMany({}),await c.tB.deleteMany({}),await c.um.deleteMany({}),await c.Ge.deleteMany({}),await c.x6.deleteMany({}),await c.OP.deleteMany({}),await c.t0.deleteMany({}),await c.py.deleteMany({}),await c._1.deleteMany({}),await c.nf.deleteMany({}),await d.GU.deleteMany({uploadedBy:{$ne:"system"}}),console.log("âœ“ Cleared existing data\n");let e=await N(1e3);console.log(""),await w(e,2500),console.log(""),await v(500),console.log(""),await C(),console.log(""),console.log("âœ… Odisha State Data Seeding Complete!"),console.log("\n\uD83D\uDCCA Summary:"),console.log(`   ðŸ‘® Officers: ${e.length} (distributed across ${m.length} districts)`),console.log(`   ðŸ“ CCTNS Data: 2500 entries`),console.log(`   ðŸ† Recognitions: 500 entries`),console.log(`   ðŸ“‹ Special Drives: ${m.length} entries per drive type`),console.log(`
ðŸ“ Districts Covered: ${m.join(", ")}`),console.log("\n\uD83C\uDF89 All data is now ready for testing with Odisha state focus!")}let R="nodejs";async function B(){try{console.log("Starting seed process..."),console.log("Attempting to connect to MongoDB..."),console.log("MONGODB_URI:",process.env.MONGODB_URI?"***configured***":"NOT SET - using default");let e=await (0,s.Q)();if(!e){console.error("MongoDB connection failed - connection is null");let e=process.env.MONGODB_URI||"mongodb://localhost:27017/police_analytics",t=e.includes("localhost")||e.includes("127.0.0.1"),r="Make sure MongoDB is running and MONGODB_URI is correct.";return r=t?"Local MongoDB connection failed. Make sure MongoDB is installed and running on your machine. You can:\n1. Install MongoDB locally\n2. Use MongoDB Atlas (cloud) and update MONGODB_URI in .env.local\n3. Check if MongoDB service is running: `mongod --version`":"MongoDB Atlas connection failed. Check:\n1. Your MONGODB_URI in .env.local is correct\n2. Your IP address is whitelisted in MongoDB Atlas Network Access\n3. Your database user has proper permissions",(0,u.I3)("Cannot connect to MongoDB. Please check your MONGODB_URI in .env.local",{error:"Database connection failed",hint:r,mongoUri:t?"Using default: mongodb://localhost:27017/police_analytics":"Check your .env.local file"})}console.log("MongoDB connected successfully");let t=e.connection?.readyState;if(1!==t)return console.error("MongoDB connection not ready, state:",t),(0,u.I3)("MongoDB connection is not ready",{error:"Database connection not ready",hint:`Connection state: ${t}. Wait a moment and try again, or check your MongoDB connection.`});console.log("MongoDB connection verified ready");let r=!1;console.log("Checking for superadmin user...");let a=await d.GX.findOne({username:"superadmin"});if(a){console.log("superadmin user found, resetting password...");let e=await (0,l.c_)("admin123");a.password=e,await a.save(),r=!1,console.log("superadmin user already exists, password reset to: admin123")}else{console.log("superadmin user not found, creating new one...");let e=await (0,l.c_)("admin123");await d.GX.create({username:"superadmin",password:e,role:"SuperAdmin"}),r=!0,console.log("Created superadmin user with password: admin123")}let n=!1;console.log("Checking for KPI weights..."),await d.bx.findOne()?console.log("KPI weights already exist"):(console.log("KPI weights not found, creating default..."),await d.bx.create({}),n=!0,console.log("Created default KPI weights")),console.log("\nStarting Odisha data seeding...");try{await M(),console.log("âœ… Odisha data seeding completed")}catch(e){console.error("Error seeding Odisha data:",e)}return(0,u.ok)({message:r?"Database seeded successfully! Demo account created with Odisha state data.":"Database seeded with Odisha state data. Demo account password reset to ensure it works.",adminCreated:r,passwordReset:!r,weightsCreated:n,odishaDataSeeded:!0,credentials:{username:"superadmin",password:"admin123"},summary:{officers:1e3,cctnsData:2500,recognitions:500,districts:30,specialDrives:"All drive types for all districts"}})}catch(r){console.error("Seed error:",r);let e=(r instanceof Error?r.message:String(r))||"Unknown error";console.error("Error stack:",r instanceof Error?r.stack:void 0);let t="Check your MongoDB connection string in .env.local";return e.includes("timeout")||e.includes("buffering")?t="MongoDB connection timed out. Check if MongoDB is running and your IP is whitelisted in MongoDB Atlas.":e.includes("ECONNREFUSED")||e.includes("ENOTFOUND")?t="Cannot reach MongoDB server. Verify your MONGODB_URI and ensure MongoDB is running.":e.includes("authentication failed")&&(t="MongoDB authentication failed. Check your username and password in MONGODB_URI."),(0,u.I3)("Failed to seed database",{error:e,hint:t,details:void 0})}}let O=new n.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/auth/seed/route",pathname:"/api/auth/seed",filename:"route",bundlePath:"app/api/auth/seed/route"},resolvedPagePath:"C:\\Users\\rahul\\Downloads\\problem -3, team -9\\SmartPoliceAnalytics-main\\SmartPoliceAnalytics-main\\app\\api\\auth\\seed\\route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:P,staticGenerationAsyncStorage:x,serverHooks:I}=O,E="/api/auth/seed/route";function _(){return(0,o.patchFetch)({serverHooks:I,staticGenerationAsyncStorage:x})}},16910:(e,t,r)=>{r.d(t,{$v:()=>p,I2:()=>g,Md:()=>l,Oe:()=>c,c_:()=>u,w5:()=>y,z:()=>m});var a=r(63506),n=r.n(a),i=r(67390),o=r.n(i),s=r(52845),d=r(56377);let l="police-dashboard-token";function u(e){return n().hash(e,10)}function c(e,t){return n().compare(e,t)}function m(e){let t=d.O.JWT_SECRET,r=d.O.JWT_EXPIRES_IN||"7d";return o().sign(e,t,{expiresIn:r})}function p(e){let t=d.O.JWT_SECRET;return o().verify(e,t)}function g(){(0,s.cookies)().delete(l)}function y(){return s.cookies().get(l)?.value??null}},1035:(e,t,r)=>{r.d(t,{Q:()=>d});var a=r(11185),n=r.n(a),i=r(56377);let o=global,s=o.mongooseConn;async function d(){if(s.conn)return s.conn;if(!s.promise){let e=i.O.MONGODB_URI||"mongodb://localhost:27017/police_analytics";s.promise=n().connect(e,{dbName:"police_analytics"}).catch(e=>{throw s.promise=null,e})}try{return s.conn=await s.promise,s.conn}catch(e){throw s.promise=null,e}}s||(s=o.mongooseConn={conn:null,promise:null})},56377:(e,t,r)=>{let a;r.d(t,{O:()=>u});var n=r(93389);let i=n.Ry({NEXT_PUBLIC_APP_NAME:n.Z_().default("Smart Police Analytics"),NEXT_PUBLIC_DEMO_MODE:n.Km(["0","1"]).default("0")}),o=n.Ry({MONGODB_URI:n.Z_().min(1,"MONGODB_URI is required"),JWT_SECRET:n.Z_().min(32,"JWT_SECRET must be at least 32 characters"),JWT_EXPIRES_IN:n.Z_().default("7d"),APP_URL:n.Z_().url().default("http://localhost:3000"),ANALYTICS_SERVICE_URL:n.Z_().url().optional()}),s=i.safeParse({NEXT_PUBLIC_APP_NAME:process.env.NEXT_PUBLIC_APP_NAME,NEXT_PUBLIC_DEMO_MODE:"1"});s.success||console.warn("Invalid client environment variables",s.error.flatten().fieldErrors);let d={MONGODB_URI:process.env.MONGODB_URI||"",JWT_SECRET:process.env.JWT_SECRET||"",JWT_EXPIRES_IN:process.env.JWT_EXPIRES_IN||"7d",APP_URL:process.env.APP_URL||"http://localhost:3000",ANALYTICS_SERVICE_URL:process.env.ANALYTICS_SERVICE_URL},l=o.safeParse(d);if(l.success)a=l.data;else throw console.error("Invalid server environment variables:",l.error.flatten().fieldErrors),Error(`Invalid server environment variables: ${JSON.stringify(l.error.flatten().fieldErrors)}`);let u={...s.data||{},...a}},51104:(e,t,r)=>{r.d(t,{Hs:()=>s,I3:()=>u,ID:()=>d,i2:()=>i,ok:()=>n,v6:()=>l,yw:()=>o});var a=r(71309);function n(e,t){return a.NextResponse.json({success:!0,data:e},{status:200,...t})}function i(e){return a.NextResponse.json({success:!0,data:e},{status:201})}function o(e,t){return a.NextResponse.json({success:!1,message:e,details:t},{status:400})}function s(e="Unauthorized"){return a.NextResponse.json({success:!1,message:e},{status:401})}function d(e="Forbidden"){return a.NextResponse.json({success:!1,message:e},{status:403})}function l(e="Not found"){return a.NextResponse.json({success:!1,message:e},{status:404})}function u(e="Internal server error",t){return console.error(e,t),a.NextResponse.json({success:!1,message:e},{status:500})}},9094:(e,t,r)=>{r.d(t,{Ge:()=>y,OP:()=>D,_1:()=>b,nf:()=>N,py:()=>h,t0:()=>S,tB:()=>p,um:()=>g,x6:()=>f});var a=r(11185);let n=new a.Schema({district:{type:String,required:!0},totalNBWPendingStart:{type:Number,default:0},nbwReceived:{type:Number,default:0},total:{type:Number,default:0},nbwExecutedDuringDrive:{type:Number,default:0},nbwOtherwiseDisposed:{type:Number,default:0},totalDisposed:{type:Number,default:0},nbwPendingEnd:{type:Number,default:0},nbwExecutedSTGR:{type:Number,default:0},nbwExecutedST:{type:Number,default:0},nbwExecutedGR:{type:Number,default:0},nbwExecutedOther:{type:Number,default:0},totalRecalled:{type:Number,default:0},returned:{type:Number,default:0},totalBefore:{type:Number,default:0},driveDate:{type:Date,default:()=>new Date}},{timestamps:!0}),i=new a.Schema({district:{type:String,required:!0},casesRegistered:{type:Number,default:0},personsArrested:{type:Number,default:0},gunsRifles:{type:Number,default:0},pistols:{type:Number,default:0},revolvers:{type:Number,default:0},mouzers:{type:Number,default:0},ak47:{type:Number,default:0},slr:{type:Number,default:0},others:{type:Number,default:0},ammunition:{type:Number,default:0},cartridges:{type:Number,default:0},driveDate:{type:Date,default:()=>new Date}},{timestamps:!0}),o=new a.Schema({district:{type:String,required:!0},casesRegistered:{type:Number,default:0},vehiclesSeized:{type:Number,default:0},personsArrested:{type:Number,default:0},noticeServed:{type:Number,default:0},driveDate:{type:Date,default:()=>new Date}},{timestamps:!0}),s=new a.Schema({district:{type:String,required:!0},boyMissingStart:{type:Number,default:0},boyMissingDuring:{type:Number,default:0},boyTraced:{type:Number,default:0},girlMissingStart:{type:Number,default:0},girlMissingDuring:{type:Number,default:0},girlTraced:{type:Number,default:0},maleMissingStart:{type:Number,default:0},maleMissingDuring:{type:Number,default:0},maleTraced:{type:Number,default:0},femaleMissingStart:{type:Number,default:0},femaleMissingDuring:{type:Number,default:0},femaleTraced:{type:Number,default:0},driveDate:{type:Date,default:()=>new Date}},{timestamps:!0}),d=new a.Schema({district:{type:String,required:!0},casesReportedYear:{type:Number,default:0},casesPending30Days:{type:Number,default:0},pendencyPercent:{type:Number,default:0},targetCasesToClose:{type:Number,default:0},casesClosedInDrive:{type:Number,default:0},driveDate:{type:Date,default:()=>new Date}},{timestamps:!0}),l=new a.Schema({district:{type:String,required:!0},notice129BNSS:{type:Number,default:0},boundDown129BNSS:{type:Number,default:0},notice126BNSS:{type:Number,default:0},boundDown126BNSS:{type:Number,default:0},bookedUnderNSA:{type:Number,default:0},nbwExecuted:{type:Number,default:0},casesForcibleChanda:{type:Number,default:0},arrestsForChanda:{type:Number,default:0},blockingsBorderSealings:{type:Number,default:0},actionAgainstOrganizedCrime:{type:Number,default:0},driveDate:{type:Date,default:()=>new Date}},{timestamps:!0}),u=new a.Schema({district:{type:String,required:!0},exciseCasesRegistered:{type:Number,default:0},personsArrested:{type:Number,default:0},detailsOfSeizure:{type:String,default:""},driveDate:{type:Date,default:()=>new Date}},{timestamps:!0}),c=new a.Schema({district:{type:String,required:!0},opgCasesRegistered:{type:Number,default:0},personsArrested:{type:Number,default:0},detailsOfSeizure:{type:String,default:""},driveDate:{type:Date,default:()=>new Date}},{timestamps:!0}),m=new a.Schema({district:{type:String,required:!0},casesRegistered:{type:Number,default:0},personsArrested:{type:Number,default:0},ganja:{type:Number,default:0},brownSugar:{type:Number,default:0},vehicles:{type:Number,default:0},ganjaPlantsDestroyed:{type:Number,default:0},bhang:{type:Number,default:0},opium:{type:Number,default:0},coughSyrup:{type:Number,default:0},cash:{type:Number,default:0},driveDate:{type:Date,default:()=>new Date}},{timestamps:!0});n.index({district:1,driveDate:-1}),i.index({district:1,driveDate:-1}),o.index({district:1,driveDate:-1}),s.index({district:1,driveDate:-1}),d.index({district:1,driveDate:-1}),l.index({district:1,driveDate:-1}),u.index({district:1,driveDate:-1}),c.index({district:1,driveDate:-1}),m.index({district:1,driveDate:-1});let p=a.models.NBWDrive||(0,a.model)("NBWDrive",n),g=a.models.FirearmsDrive||(0,a.model)("FirearmsDrive",i),y=a.models.SandMiningDrive||(0,a.model)("SandMiningDrive",o),f=a.models.MissingPersonsDrive||(0,a.model)("MissingPersonsDrive",s),D=a.models.CasePendencyDrive||(0,a.model)("CasePendencyDrive",d),S=a.models.PreventiveMeasuresDrive||(0,a.model)("PreventiveMeasuresDrive",l),h=a.models.ExciseAct||(0,a.model)("ExciseAct",u),b=a.models.OPGAct||(0,a.model)("OPGAct",c),N=a.models.NarcoticsEnforcement||(0,a.model)("NarcoticsEnforcement",m)},21899:(e,t,r)=>{r.d(t,{GX:()=>i,J0:()=>p,f3:()=>D,GU:()=>y,bx:()=>c,pB:()=>s,rB:()=>l});var a=r(11185);let n=new a.Schema({username:{type:String,required:!0,unique:!0},password:{type:String,required:!0},role:{type:String,enum:["Officer","Admin","SuperAdmin"],default:"Admin"}},{timestamps:!0}),i=a.models.Admin||(0,a.model)("Admin",n),o=new a.Schema({name:{type:String,required:!0},badgeId:{type:String,required:!0,unique:!0},department:{type:String,required:!0},designation:{type:String,required:!0},district:{type:String},caseClosed:{type:Number,default:0},cyberResolved:{type:Number,default:0},feedbackScore:{type:Number,default:0},awarenessPrograms:{type:Number,default:0},emergencyResponses:{type:Number,default:0},totalScore:{type:Number,default:0},lastUpdated:{type:Date,default:()=>new Date}},{timestamps:!0});o.index({badgeId:1}),o.index({department:1}),o.index({totalScore:-1});let s=a.models.Officer||(0,a.model)("Officer",o),d=new a.Schema({officerId:{type:a.Schema.Types.ObjectId,ref:"Officer",required:!0},month:{type:String,required:!0},badge:{type:String,enum:["Gold","Silver","Bronze"],required:!0},message:{type:String},recognizedBy:{type:String,required:!0},date:{type:Date,default:()=>new Date}},{timestamps:!0});d.index({officerId:1,month:1});let l=a.models.Recognition||(0,a.model)("Recognition",d),u=new a.Schema({caseClosedWeight:{type:Number,default:.4},cyberResolvedWeight:{type:Number,default:.3},feedbackWeight:{type:Number,default:.2},awarenessWeight:{type:Number,default:.1}},{timestamps:!0}),c=a.models.KPIWeights||(0,a.model)("KPIWeights",u),m=new a.Schema({action:{type:String,required:!0},entity:{type:String,required:!0},entityId:{type:String,required:!0},user:{type:String,default:"system"},metadata:{type:a.Schema.Types.Mixed}},{timestamps:!0});m.index({entity:1,createdAt:-1});let p=a.models.AuditLog||(0,a.model)("AuditLog",m),g=new a.Schema({filename:{type:String,required:!0},source:{type:String,enum:["CCTNS_SpecialDrives","CCTNS_Convictions","CCTNS_Detections","Manual","Excel","CSV","PDF"],required:!0},status:{type:String,enum:["pending","processing","completed","failed"],default:"pending"},totalRecords:{type:Number,default:0},processedRecords:{type:Number,default:0},failedRecords:{type:Number,default:0},errors:[{row:Number,field:String,message:String}],uploadedBy:{type:String,required:!0},metadata:{type:a.Schema.Types.Mixed}},{timestamps:!0});g.index({uploadedBy:1,createdAt:-1}),g.index({status:1});let y=a.models.ImportLog||(0,a.model)("ImportLog",g),f=new a.Schema({module:{type:String,enum:["SpecialDrives","Convictions","Detections"],required:!0},officerBadgeId:{type:String,required:!0},officerName:{type:String},department:{type:String},district:{type:String},driveName:{type:String},driveDate:{type:Date},casesHandled:{type:Number},caseNumber:{type:String},convictionDate:{type:Date},crimeType:{type:String},courtName:{type:String},detectionDate:{type:Date},crimeCategory:{type:String},valueRecovered:{type:Number},rawData:{type:a.Schema.Types.Mixed},importLogId:{type:a.Schema.Types.ObjectId,ref:"ImportLog",required:!0}},{timestamps:!0});f.index({officerBadgeId:1,module:1}),f.index({importLogId:1}),f.index({module:1,createdAt:-1});let D=a.models.CCTNSData||(0,a.model)("CCTNSData",f);r(9094)}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[7787,5541,5405,4833],()=>r(56939));module.exports=a})();