exports.id=7349,exports.ids=[7349],exports.modules={91135:(e,t,s)=>{Promise.resolve().then(s.bind(s,90641))},87373:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,63642,23)),Promise.resolve().then(s.t.bind(s,87586,23)),Promise.resolve().then(s.t.bind(s,47838,23)),Promise.resolve().then(s.t.bind(s,58057,23)),Promise.resolve().then(s.t.bind(s,77741,23)),Promise.resolve().then(s.t.bind(s,13118,23))},87527:()=>{},90641:(e,t,s)=>{"use strict";s.d(t,{ProtectedShell:()=>C});var l=s(97247),r=s(34178),a=s(79906),n=s(1423),i=s(81621),o=s(97792),d=s(9527),c=s(62673),h=s(70712),m=s(82522),b=s(66903),x=s(69964),f=s(57989);let u=[{href:"/dashboard",label:"Overview",icon:n.Z},{href:"/leaderboard",label:"Leaderboard",icon:i.Z},{href:"/analytics",label:"Analytics",icon:o.Z},{href:"/districts",label:"Districts",icon:d.Z},{href:"/drives",label:"Drives",icon:c.Z},{href:"/special-drives",label:"Special Drives",icon:h.Z},{href:"/map",label:"Map View",icon:m.Z},{href:"/recognitions",label:"Recognitions",icon:i.Z},{href:"/reports",label:"Reports",icon:b.Z},{href:"/data-ingestion",label:"Data Ingestion",icon:x.Z},{href:"/admin",label:"Admin",icon:f.Z}];function g(){let e=(0,r.usePathname)();return(0,l.jsxs)("aside",{className:"hidden lg:flex w-64 flex-col border-r border-slate-800 bg-[#101931]",children:[l.jsx("div",{className:"p-6",children:l.jsx("h2",{className:"text-sm uppercase tracking-wide text-slate-400",children:"Navigation"})}),l.jsx("nav",{className:"flex-1 px-2 space-y-1",children:u.map(t=>{let s=t.icon,r=e.startsWith(t.href);return(0,l.jsxs)(a.default,{href:t.href,className:`flex items-center gap-3 rounded-lg px-4 py-3 text-sm transition ${r?"bg-gold/20 text-gold border border-gold/40":"text-slate-300 hover:bg-indigoPolice hover:text-gold"}`,children:[l.jsx(s,{className:"h-4 w-4"}),t.label]},t.href)})}),(0,l.jsxs)("div",{className:"p-4 text-xs text-slate-500 border-t border-slate-800",children:["\xa9 ",new Date().getFullYear()," Team Innosphere. All rights reserved."]})]})}var p=s(12662),v=s(5495),j=s(19400),N=s(83128),y=s(28964);let w=[{href:"/dashboard",label:"Dashboard"},{href:"/leaderboard",label:"Leaderboard"},{href:"/analytics",label:"Analytics"},{href:"/recognitions",label:"Recognitions"},{href:"/reports",label:"Reports"},{href:"/admin",label:"Admin"}];function Z({username:e}){let t=(0,r.usePathname)(),s=(0,r.useRouter)(),[n,i]=(0,y.useState)(!0),o=async()=>{await N.Z.post("/api/auth/logout"),s.push("/login")};return(0,l.jsxs)("header",{className:"flex items-center justify-between border-b border-slate-800 bg-indigoPolice-dark px-6 py-3",children:[(0,l.jsxs)("div",{className:"flex items-center gap-6",children:[l.jsx(a.default,{href:"/dashboard",className:"text-lg font-semibold text-gold",children:"Smart Police Analytics"}),l.jsx("nav",{className:"hidden md:flex items-center gap-4 text-sm text-slate-300",children:w.map(e=>l.jsx(a.default,{href:e.href,className:`hover:text-gold transition ${t.startsWith(e.href)?"text-gold font-semibold":""}`,children:e.label},e.href))})]}),(0,l.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[l.jsx("button",{onClick:()=>i(e=>!e),className:"rounded-lg border border-slate-700 p-2 text-slate-300 hover:border-gold/60 hover:text-gold transition",children:n?l.jsx(p.Z,{className:"h-4 w-4"}):l.jsx(v.Z,{className:"h-4 w-4"})}),(0,l.jsxs)("div",{className:"hidden md:flex flex-col text-right text-xs text-slate-400",children:[l.jsx("span",{className:"text-slate-200 font-semibold",children:e??"User"}),l.jsx("span",{children:"Team Innosphere"})]}),(0,l.jsxs)("button",{onClick:o,className:"inline-flex items-center gap-2 rounded-lg bg-gold px-3 py-2 text-xs font-semibold text-black hover:bg-gold/90 transition",children:[l.jsx(j.Z,{className:"h-4 w-4"}),"Logout"]})]})]})}var P=s(37013),k=s(6683);let S=[{href:"/dashboard",label:"Overview",icon:n.Z},{href:"/leaderboard",label:"Leaderboard",icon:i.Z},{href:"/analytics",label:"Analytics",icon:o.Z},{href:"/districts",label:"Districts",icon:d.Z},{href:"/drives",label:"Drives",icon:c.Z},{href:"/map",label:"Map",icon:m.Z},{href:"/recognitions",label:"Recognitions",icon:i.Z},{href:"/reports",label:"Reports",icon:b.Z},{href:"/data-ingestion",label:"Upload",icon:x.Z},{href:"/admin",label:"Admin",icon:f.Z}];function A(){let[e,t]=(0,y.useState)(!1),s=(0,r.usePathname)();return(0,l.jsxs)(l.Fragment,{children:[l.jsx("div",{className:"lg:hidden fixed bottom-4 right-4 z-50",children:l.jsx("button",{onClick:()=>t(!e),className:"w-14 h-14 bg-gold rounded-full shadow-lg flex items-center justify-center text-slate-900 hover:bg-gold/90 transition-colors",children:e?l.jsx(P.Z,{className:"w-6 h-6"}):l.jsx(k.Z,{className:"w-6 h-6"})})}),e&&l.jsx("div",{className:"lg:hidden fixed inset-0 bg-black/50 z-40",onClick:()=>t(!1),children:(0,l.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 bg-slate-900 border-t border-slate-700 rounded-t-2xl p-4 max-h-[80vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:[l.jsx("div",{className:"mb-4",children:l.jsx("h3",{className:"text-lg font-bold text-slate-100 mb-2",children:"Navigation"})}),l.jsx("nav",{className:"space-y-2",children:S.map(e=>{let r=e.icon,n=s.startsWith(e.href);return(0,l.jsxs)(a.default,{href:e.href,onClick:()=>t(!1),className:`flex items-center gap-3 px-4 py-3 rounded-lg transition ${n?"bg-gold/20 text-gold border border-gold/40":"text-slate-300 hover:bg-slate-800"}`,children:[l.jsx(r,{className:"w-5 h-5"}),l.jsx("span",{className:"font-medium",children:e.label})]},e.href)})})]})})]})}function C({children:e,username:t}){let s=(0,r.usePathname)().startsWith("/admin");return(0,l.jsxs)("div",{className:"min-h-screen bg-[#0b1220] text-slate-100",children:[l.jsx(Z,{username:t}),(0,l.jsxs)("div",{className:"flex",children:[l.jsx(g,{}),(0,l.jsxs)("main",{className:"flex-1 min-h-[calc(100vh-64px)] bg-[#0b1220]",children:[(0,l.jsxs)("div",{className:"space-y-2 border-b border-slate-800 bg-[#101931] px-6 py-4 text-sm text-slate-400",children:[l.jsx("div",{className:"rounded-lg border border-gold/40 bg-gold/10 px-4 py-2 text-xs text-gold",children:"Demo mode enabled. All analytics and leaderboard data use simulated officer records."}),s?"Admin Control Center â€¢ Manage officers, weights, and recognition rules":"Welcome to the Smart Police Analytics dashboard"]}),l.jsx("div",{className:"px-6 py-6",children:e})]})]}),l.jsx(A,{})]})}},27757:(e,t,s)=>{"use strict";s.d(t,{Card:()=>a});var l=s(97247),r=s(61929);function a({className:e,children:t}){return l.jsx("div",{className:(0,r.Z)("rounded-2xl border border-slate-800 bg-[#111b33] shadow-lg shadow-black/10",e),children:t})}},80651:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});let l=(0,s(34523).Z)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]])},69738:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var l=s(72051),r=s(41288);let a=(0,s(45347).createProxy)(String.raw`C:\Users\rahul\Downloads\problem -3, team -9\SmartPoliceAnalytics-main\SmartPoliceAnalytics-main\components\layout\ProtectedShell.tsx#ProtectedShell`);var n=s(51639);async function i({children:e}){let t=await (0,n.t)();return t||(0,r.redirect)("/login"),l.jsx(a,{username:t.username,children:e})}},54403:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o,dynamic:()=>n,metadata:()=>i});var l=s(72051),r=s(45662),a=s.n(r);s(67272);let n="force-dynamic",i={title:"Smart Police Analytics",description:"AI-powered analytics dashboard for police good work recognition."};function o({children:e}){return l.jsx("html",{lang:"en",className:"bg-[#0b1220]",children:l.jsx("body",{className:`${a().variable} antialiased bg-[#0b1220] text-slate-100`,children:e})})}},16910:(e,t,s)=>{"use strict";s.d(t,{$v:()=>b,I2:()=>x,Md:()=>d,Oe:()=>h,c_:()=>c,w5:()=>f,z:()=>m});var l=s(63506),r=s.n(l),a=s(67390),n=s.n(a),i=s(52845),o=s(56377);let d="police-dashboard-token";function c(e){return r().hash(e,10)}function h(e,t){return r().compare(e,t)}function m(e){let t=o.O.JWT_SECRET,s=o.O.JWT_EXPIRES_IN||"7d";return n().sign(e,t,{expiresIn:s})}function b(e){let t=o.O.JWT_SECRET;return n().verify(e,t)}function x(){(0,i.cookies)().delete(d)}function f(){return i.cookies().get(d)?.value??null}},51639:(e,t,s)=>{"use strict";s.d(t,{t:()=>i});var l=s(26269),r=s(1035),a=s(21899),n=s(16910);let i=(0,l.cache)(async()=>{let e=(0,n.w5)();if(!e)return null;try{let t=(0,n.$v)(e);await (0,r.Q)();let s=await a.GX.findById(t.sub).select("-password").lean();if(!s)return null;return{id:s._id.toString(),username:s.username,role:t.role}}catch(e){return console.warn("Failed to get current user",e),null}})},67272:()=>{}};