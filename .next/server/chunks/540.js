"use strict";exports.id=540,exports.ids=[540],exports.modules={1035:(e,t,r)=>{r.d(t,{Q:()=>i}),r(11185),r(56377);let d=global,a=d.mongooseConn;async function i(){return null}a||(a=d.mongooseConn={conn:null,promise:null})},56377:(e,t,r)=>{let d;r.d(t,{O:()=>m});var a=r(93389);let i=a.Ry({NEXT_PUBLIC_APP_NAME:a.Z_().default("Smart Police Analytics"),NEXT_PUBLIC_DEMO_MODE:a.Km(["0","1"]).default("0")}),u=a.Ry({MONGODB_URI:a.Z_().min(1,"MONGODB_URI is required"),JWT_SECRET:a.Z_().min(32,"JWT_SECRET must be at least 32 characters"),JWT_EXPIRES_IN:a.Z_().default("7d"),APP_URL:a.Z_().url().default("http://localhost:3000"),ANALYTICS_SERVICE_URL:a.Z_().url().optional()}),s=i.safeParse({NEXT_PUBLIC_APP_NAME:process.env.NEXT_PUBLIC_APP_NAME,NEXT_PUBLIC_DEMO_MODE:"1"});s.success||console.warn("Invalid client environment variables",s.error.flatten().fieldErrors);let n={MONGODB_URI:process.env.MONGODB_URI||"",JWT_SECRET:process.env.JWT_SECRET||"",JWT_EXPIRES_IN:process.env.JWT_EXPIRES_IN||"7d",APP_URL:process.env.APP_URL||"http://localhost:3000",ANALYTICS_SERVICE_URL:process.env.ANALYTICS_SERVICE_URL},l=u.safeParse(n);if(l.success)d=l.data;else throw console.error("Invalid server environment variables:",l.error.flatten().fieldErrors),Error(`Invalid server environment variables: ${JSON.stringify(l.error.flatten().fieldErrors)}`);let m={...s.data||{},...d}},9094:(e,t,r)=>{r.d(t,{Ge:()=>f,OP:()=>b,_1:()=>D,nf:()=>v,py:()=>S,t0:()=>g,tB:()=>y,um:()=>c,x6:()=>N});var d=r(11185);let a=new d.Schema({district:{type:String,required:!0},totalNBWPendingStart:{type:Number,default:0},nbwReceived:{type:Number,default:0},total:{type:Number,default:0},nbwExecutedDuringDrive:{type:Number,default:0},nbwOtherwiseDisposed:{type:Number,default:0},totalDisposed:{type:Number,default:0},nbwPendingEnd:{type:Number,default:0},nbwExecutedSTGR:{type:Number,default:0},nbwExecutedST:{type:Number,default:0},nbwExecutedGR:{type:Number,default:0},nbwExecutedOther:{type:Number,default:0},totalRecalled:{type:Number,default:0},returned:{type:Number,default:0},totalBefore:{type:Number,default:0},driveDate:{type:Date,default:()=>new Date}},{timestamps:!0}),i=new d.Schema({district:{type:String,required:!0},casesRegistered:{type:Number,default:0},personsArrested:{type:Number,default:0},gunsRifles:{type:Number,default:0},pistols:{type:Number,default:0},revolvers:{type:Number,default:0},mouzers:{type:Number,default:0},ak47:{type:Number,default:0},slr:{type:Number,default:0},others:{type:Number,default:0},ammunition:{type:Number,default:0},cartridges:{type:Number,default:0},driveDate:{type:Date,default:()=>new Date}},{timestamps:!0}),u=new d.Schema({district:{type:String,required:!0},casesRegistered:{type:Number,default:0},vehiclesSeized:{type:Number,default:0},personsArrested:{type:Number,default:0},noticeServed:{type:Number,default:0},driveDate:{type:Date,default:()=>new Date}},{timestamps:!0}),s=new d.Schema({district:{type:String,required:!0},boyMissingStart:{type:Number,default:0},boyMissingDuring:{type:Number,default:0},boyTraced:{type:Number,default:0},girlMissingStart:{type:Number,default:0},girlMissingDuring:{type:Number,default:0},girlTraced:{type:Number,default:0},maleMissingStart:{type:Number,default:0},maleMissingDuring:{type:Number,default:0},maleTraced:{type:Number,default:0},femaleMissingStart:{type:Number,default:0},femaleMissingDuring:{type:Number,default:0},femaleTraced:{type:Number,default:0},driveDate:{type:Date,default:()=>new Date}},{timestamps:!0}),n=new d.Schema({district:{type:String,required:!0},casesReportedYear:{type:Number,default:0},casesPending30Days:{type:Number,default:0},pendencyPercent:{type:Number,default:0},targetCasesToClose:{type:Number,default:0},casesClosedInDrive:{type:Number,default:0},driveDate:{type:Date,default:()=>new Date}},{timestamps:!0}),l=new d.Schema({district:{type:String,required:!0},notice129BNSS:{type:Number,default:0},boundDown129BNSS:{type:Number,default:0},notice126BNSS:{type:Number,default:0},boundDown126BNSS:{type:Number,default:0},bookedUnderNSA:{type:Number,default:0},nbwExecuted:{type:Number,default:0},casesForcibleChanda:{type:Number,default:0},arrestsForChanda:{type:Number,default:0},blockingsBorderSealings:{type:Number,default:0},actionAgainstOrganizedCrime:{type:Number,default:0},driveDate:{type:Date,default:()=>new Date}},{timestamps:!0}),m=new d.Schema({district:{type:String,required:!0},exciseCasesRegistered:{type:Number,default:0},personsArrested:{type:Number,default:0},detailsOfSeizure:{type:String,default:""},driveDate:{type:Date,default:()=>new Date}},{timestamps:!0}),p=new d.Schema({district:{type:String,required:!0},opgCasesRegistered:{type:Number,default:0},personsArrested:{type:Number,default:0},detailsOfSeizure:{type:String,default:""},driveDate:{type:Date,default:()=>new Date}},{timestamps:!0}),o=new d.Schema({district:{type:String,required:!0},casesRegistered:{type:Number,default:0},personsArrested:{type:Number,default:0},ganja:{type:Number,default:0},brownSugar:{type:Number,default:0},vehicles:{type:Number,default:0},ganjaPlantsDestroyed:{type:Number,default:0},bhang:{type:Number,default:0},opium:{type:Number,default:0},coughSyrup:{type:Number,default:0},cash:{type:Number,default:0},driveDate:{type:Date,default:()=>new Date}},{timestamps:!0});a.index({district:1,driveDate:-1}),i.index({district:1,driveDate:-1}),u.index({district:1,driveDate:-1}),s.index({district:1,driveDate:-1}),n.index({district:1,driveDate:-1}),l.index({district:1,driveDate:-1}),m.index({district:1,driveDate:-1}),p.index({district:1,driveDate:-1}),o.index({district:1,driveDate:-1});let y=d.models.NBWDrive||(0,d.model)("NBWDrive",a),c=d.models.FirearmsDrive||(0,d.model)("FirearmsDrive",i),f=d.models.SandMiningDrive||(0,d.model)("SandMiningDrive",u),N=d.models.MissingPersonsDrive||(0,d.model)("MissingPersonsDrive",s),b=d.models.CasePendencyDrive||(0,d.model)("CasePendencyDrive",n),g=d.models.PreventiveMeasuresDrive||(0,d.model)("PreventiveMeasuresDrive",l),S=d.models.ExciseAct||(0,d.model)("ExciseAct",m),D=d.models.OPGAct||(0,d.model)("OPGAct",p),v=d.models.NarcoticsEnforcement||(0,d.model)("NarcoticsEnforcement",o)},21899:(e,t,r)=>{r.d(t,{GX:()=>i,J0:()=>y,f3:()=>b,GU:()=>f,bx:()=>p,pB:()=>s,rB:()=>l});var d=r(11185);let a=new d.Schema({username:{type:String,required:!0,unique:!0},password:{type:String,required:!0},role:{type:String,enum:["Officer","Admin","SuperAdmin"],default:"Admin"}},{timestamps:!0}),i=d.models.Admin||(0,d.model)("Admin",a),u=new d.Schema({name:{type:String,required:!0},badgeId:{type:String,required:!0,unique:!0},department:{type:String,required:!0},designation:{type:String,required:!0},district:{type:String},caseClosed:{type:Number,default:0},cyberResolved:{type:Number,default:0},feedbackScore:{type:Number,default:0},awarenessPrograms:{type:Number,default:0},emergencyResponses:{type:Number,default:0},totalScore:{type:Number,default:0},lastUpdated:{type:Date,default:()=>new Date}},{timestamps:!0});u.index({badgeId:1}),u.index({department:1}),u.index({totalScore:-1});let s=d.models.Officer||(0,d.model)("Officer",u),n=new d.Schema({officerId:{type:d.Schema.Types.ObjectId,ref:"Officer",required:!0},month:{type:String,required:!0},badge:{type:String,enum:["Gold","Silver","Bronze"],required:!0},message:{type:String},recognizedBy:{type:String,required:!0},date:{type:Date,default:()=>new Date}},{timestamps:!0});n.index({officerId:1,month:1});let l=d.models.Recognition||(0,d.model)("Recognition",n),m=new d.Schema({caseClosedWeight:{type:Number,default:.4},cyberResolvedWeight:{type:Number,default:.3},feedbackWeight:{type:Number,default:.2},awarenessWeight:{type:Number,default:.1}},{timestamps:!0}),p=d.models.KPIWeights||(0,d.model)("KPIWeights",m),o=new d.Schema({action:{type:String,required:!0},entity:{type:String,required:!0},entityId:{type:String,required:!0},user:{type:String,default:"system"},metadata:{type:d.Schema.Types.Mixed}},{timestamps:!0});o.index({entity:1,createdAt:-1});let y=d.models.AuditLog||(0,d.model)("AuditLog",o),c=new d.Schema({filename:{type:String,required:!0},source:{type:String,enum:["CCTNS_SpecialDrives","CCTNS_Convictions","CCTNS_Detections","Manual","Excel","CSV","PDF"],required:!0},status:{type:String,enum:["pending","processing","completed","failed"],default:"pending"},totalRecords:{type:Number,default:0},processedRecords:{type:Number,default:0},failedRecords:{type:Number,default:0},errors:[{row:Number,field:String,message:String}],uploadedBy:{type:String,required:!0},metadata:{type:d.Schema.Types.Mixed}},{timestamps:!0});c.index({uploadedBy:1,createdAt:-1}),c.index({status:1});let f=d.models.ImportLog||(0,d.model)("ImportLog",c),N=new d.Schema({module:{type:String,enum:["SpecialDrives","Convictions","Detections"],required:!0},officerBadgeId:{type:String,required:!0},officerName:{type:String},department:{type:String},district:{type:String},driveName:{type:String},driveDate:{type:Date},casesHandled:{type:Number},caseNumber:{type:String},convictionDate:{type:Date},crimeType:{type:String},courtName:{type:String},detectionDate:{type:Date},crimeCategory:{type:String},valueRecovered:{type:Number},rawData:{type:d.Schema.Types.Mixed},importLogId:{type:d.Schema.Types.ObjectId,ref:"ImportLog",required:!0}},{timestamps:!0});N.index({officerBadgeId:1,module:1}),N.index({importLogId:1}),N.index({module:1,createdAt:-1});let b=d.models.CCTNSData||(0,d.model)("CCTNSData",N);r(9094)}};